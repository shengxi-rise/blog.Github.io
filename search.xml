<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>本科前半段总结&amp;反思</title>
      <link href="/%E6%84%9F%E6%82%9F/2024/06/01/%E6%80%BB%E7%BB%93%E4%B8%8E%E6%84%9F%E6%82%9F/%E6%9C%AC%E7%A7%91%E5%89%8D%E5%8D%8A%E6%AE%B5%E6%80%BB%E7%BB%93/"/>
      <url>/%E6%84%9F%E6%82%9F/2024/06/01/%E6%80%BB%E7%BB%93%E4%B8%8E%E6%84%9F%E6%82%9F/%E6%9C%AC%E7%A7%91%E5%89%8D%E5%8D%8A%E6%AE%B5%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>关于内耗这段时间的总结以及本科生涯前半段的总结。主要是迷茫时期的所感所想，对自我的反思，对未来的思考。</p><span id="more"></span><p>（写总结的时候发现，大一的总结还在拖着。。。）想了很久，还是决定记录一下。</p><h1 id="从何时开始？"><a href="#从何时开始？" class="headerlink" title="从何时开始？"></a>从何时开始？</h1><p>​什么时候开始的我也忘了，也许是从上大学开始又或者是大二开始的那段时间。从那时起，整个人变得消极，无论看待什么事情都是消极的状态，没有任何动力。那段时间，付出的所有东西都没有得到反馈，让我感觉到了迷茫，消极，以及放弃的念头。回想刚上大二的那段时间，大一绩点低，体测没过，大二的压力一下子就上来了。大二的第一场比赛，工程训练的视觉模型寄了。再想想，现在打的比赛，跟我以前想的不太一样呀，没有想要的那种激情。身边很多本来技术不如自己的人，一个个超越了我，奖项也越拿越多，身边个个都是大佬，而我……还有大二上期间，经历了亲人去世的事情，也让我重新意识到陪伴家人的重要性。还有考研、就业、考公等等选择。理想与现实之间的矛盾，自身的内在矛盾等种种因素，比如：还要不要继续做机器人？我是一个怎样的人？考研 or 就业？</p><p>​总而言之，我在内部因素和环境因素的作用下，开始了内耗的过程。其实一开始我也不知道自己内耗了，也许是因为那件事成为了导火索。从这时起，我开始思考更多的问题……</p><p>这段时间的朋友圈👇</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202406011247363.jpg" alt="e35d4ef4660de1fa55f6713ac3c605e"></p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202406011248245.jpg" alt="7cd53baf3a9506e4c65a765abd07a26"></p><h1 id="怎么结束了？"><a href="#怎么结束了？" class="headerlink" title="怎么结束了？"></a>怎么结束了？</h1><p>​额我也不知道，大概是从五月二十几号开始，想明白了一些东西，以及放下了一些工作上的事情。也许是看《庆余年2》给我的一些问题找到了答案，亦或者是拖了两个月的任务终于做完了，也有可能是突然明确了目标以及未来的方向，所以整个人就好像进入了一种新的状态，逐渐开始调整学习状态，寻找新的学习方法。最近已经开始不带手机到床上，开始梳理所有的任务，合理地调度，课外再去学一些新的东西。也许是彻底结束了，也有可能还有残留，反正现在状态还是挺好的，偶尔遇到烦心事也是外界干扰。</p><h1 id="本科前半段时间的经历"><a href="#本科前半段时间的经历" class="headerlink" title="本科前半段时间的经历"></a>本科前半段时间的经历</h1><h2 id="大一都干嘛去了"><a href="#大一都干嘛去了" class="headerlink" title="大一都干嘛去了"></a>大一都干嘛去了</h2><p>​大一上，参加了两个团队的考核，rm和机创，最后两个都没进。打了科创杯，合泰杯，没奖。大一下，打了国电，省三，去了一个搞机器学习的课题组，最后因为我没去创新班被踢了。大一就这样，把时间都放课外了，期末觉得反正拿不了奖学金，复习都不复习了。现在想想，当时真的蠢，大一就把路给走窄了…….</p><p>​大一更应该注重课内，课外反正也出不了什么成绩，最好的方案就是搞好课内。关于科研和竞赛，这没什么好说的，首先看个人兴趣，不过我还是想说一句，搞科研的，跑个仿真就上床睡觉了，打比赛的还要不断地学习其他东西，熬夜通宵已经习以为常。个人觉得大学最舒适的途径就是：专门搞课内+科研。不过得找到好的老师，如果是纯打工的那种就算了吧。</p><h2 id="大二呢"><a href="#大二呢" class="headerlink" title="大二呢"></a>大二呢</h2><p>​大二的烦心事不想提了，等我什么时候有空再说吧。内耗阶段，压抑，迷茫，消极。</p><h1 id="关于思考"><a href="#关于思考" class="headerlink" title="关于思考"></a>关于思考</h1><p>​首先需要确定两个很重要的问题：<strong>你是谁？你想要什么？</strong>思考的问题有挺多的，但是现在忘了差不多了，以后想到再补充吧，先记录几个比较重要的。</p><h2 id="读研为了什么"><a href="#读研为了什么" class="headerlink" title="读研为了什么"></a>读研为了什么</h2><p>​大一跟别人说以后要读研，别人会问为什么呢，当时单纯就是觉得想提高一下自己的学历，现在看来，重点不是这个。我想，人的一生，还是要做点什么有价值的东西才行。这件事可能得从头开始讲才行。</p><p>​高考被调剂到光电信息专业，光电确实是一个好的专业，只是很多方向，业内并没有开发出来，导致了本科就业难度高，加上我确实是不感兴趣。大一的时候就想着搞人工智能，以后读研也是这个方向。但是现在看来，我的考研目标有了变化，原因有很多，跨考人工智能，以我的处境，没有那么多的时间备考，考不了很好的学校。那集成电路或者电子专业呢？这个方向，其实也是不错的，但是当我得知清华取消了电子科学与技术专业的招生之后，我开始思考，电子专业是不是已经不行了呢？也许未来有一天是的，但起码还得50年起步吧，所以不用太担心这个。那最后为什么选择了光学呢？这个受影响的因素有点多，一个是本科是光电专业，也算是专业对口了。第二点，从大二开始，我觉得自己好像会很多东西，又好像什么东西都不会，究其原因呢，是因为我会的东西全都是表面的，并没有深入每个技术栈去深究。还有就是，当我把这方面技术的学习原理弄懂之后，开发变成了看说明书，直接抄例程，应用层开发因此变得无趣起来。有一天，一个人对我说了一句：你搞的东西，门槛好低呀……   我….</p><p>​回想当年，我接触这方面的东西的时候，纯粹是觉得很好玩，但是我从来没有思考过，去深入，去系统的学习，纯粹是享受那种，做出来的快乐。但是，如果这一份兴趣，变成了工作之后，我想我会很厌倦甚至很反感它。再换个角度想，其实学的这些技术就只是一门工具而已，想想当初接触这方面技术的时候，不就是为了想要做出某个东西而去学的工具而已吗？</p><p>​总而言之，虽然做科研可能会很枯燥，很无聊，我也不确定研究生会考到什么方向，再加上国内的学术环境，我也不知道以后能不能如尝所愿，但愿一切都能随着理想而来吧。读研可能以后也会读博，我想要在某个领域内有所建树，真正地去钻研一方面的东西。还有就是，我也不知道我适不适合读研，但是我相信这段经历，对于我的成长肯定是有用的。</p><h2 id="对于学习的思考"><a href="#对于学习的思考" class="headerlink" title="对于学习的思考"></a>对于学习的思考</h2><p>​学习是为了什么，为了父母？为了家人？为了国家？对于我来说，可能驱动我去学习的，是我对于无知的恐惧感，迫使我去不断地学习。关于大二上复习阶段的一次思考，以及跟大熙的讨论，还有和树洞的交流，具体内容忘了（附上聊天记录）</p><h2 id="关于自身"><a href="#关于自身" class="headerlink" title="关于自身"></a>关于自身</h2><p>​INFP人格，其余未知</p><h3 id="成长经历"><a href="#成长经历" class="headerlink" title="成长经历"></a>成长经历</h3><p>​不知从何说起，从我懂事到现在，从小到大，我们与父母的交流甚少，打电话不会超过一分钟，在家里也是待在房间，做自己的事情。小时候待在房间是忙着学习，长大后待在房间是忙着工作，也许我们一直都不会停下来，好好地陪父母聊聊天。即使是在吃饭的时候，也都是吃完就溜了，生活忙忙碌碌，但是又不知道到底在忙什么，陪父母聊天也不知道聊什么。也许我不善言辞，也不擅长聊天。父母对我们的教育也少，小时候是妈妈陪在身边，给我们提供生活上的帮助，保护我们的成长。</p><p>​从小开始，我好像没有其余的兴趣爱好，唯一一个就是小学时就接触到的编程，平时放假除了打游戏就是写代码了。虽然我会打羽毛球，会游泳，但是这些好像都不能给我提供很好的放松方式，导致我在内耗阶段，并没有有效的自我疗愈方式。只能说我的成长好像太单调了。不过这也很正常，毕竟是在农村长大的，也算是半个留守儿童，没有条件，也没有机会，去接触更多的东西，去磨练自己。现在大学看着身边的人，个个都不局限于课内的优秀，说是琴棋书画样样精通都不为过。其实差距真的很大……但是现在追赶还来得及，大学培养一些兴趣爱好，也挺不错的。</p><h3 id="性格习惯"><a href="#性格习惯" class="headerlink" title="性格习惯"></a>性格习惯</h3><p>​这里先把一些坏习惯写下来，方便后续改成吧</p><ul><li>拖延症晚期，经常赶ddl</li><li>做事情过于自信，总是会在事情快办完的时候，切换进程，从而没有高效完成任务。</li><li>即使什么都不做，都不想做作业</li></ul><p>总是偶尔莫名其妙地不开心（听说INFP人都这样）</p><h3 id="自我调节"><a href="#自我调节" class="headerlink" title="自我调节"></a>自我调节</h3><p>​只能说还没找到特别有用的自我调节的方法。一般都是找好朋友倾诉，打游戏，刷视频。这段时间，可以说是什么都尝试过了。开始尝试去阅读，射箭，骑行，画画，弹钢琴，放慢生活节奏，去感受大自然等等…..</p><h1 id="成长"><a href="#成长" class="headerlink" title="成长"></a>成长</h1><p>​emmm…..这段时间想了很多，学习，生活，家人，未来。关于大学的学习，交给以后的我来说吧，目前来看，我不是很能平衡好课内和课外的学习时间，而且还要留有放松的时间呢。如果不牺牲充足的睡眠时间的话，是很难兼顾课内和课外的学习的，至少对于我来说是这样，只能说有舍有得。想想以前高中的学习情况，一群人围在一起，一个知识点能讨论半天，到现在的期末一天速成，考完就忘，这样的结果，真的是我想要的吗？</p><p>​在这段时间里，我尝试去培养更多的兴趣爱好，开始去阅读，学习钢琴，画画，记录生活等等。虽然说很多问题都还没有答案，但是，按照这条路走下去就行了，一切问题都会迎刃而解。最后感谢这段时间帮助过我的所有人。</p>]]></content>
      
      
      <categories>
          
          <category> 感悟 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 感悟 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>24年15届蓝桥</title>
      <link href="/%E7%AB%9E%E8%B5%9B/2024/04/15/%E7%AB%9E%E8%B5%9B/24%E5%B9%B415%E5%B1%8A%E8%93%9D%E6%A1%A5/"/>
      <url>/%E7%AB%9E%E8%B5%9B/2024/04/15/%E7%AB%9E%E8%B5%9B/24%E5%B9%B415%E5%B1%8A%E8%93%9D%E6%A1%A5/</url>
      
        <content type="html"><![CDATA[<p>记录蓝桥备赛，比赛过程</p><span id="more"></span><p>（搞笑，有空再写）</p>]]></content>
      
      
      <categories>
          
          <category> 竞赛 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 蓝桥 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flask&amp;&amp;Restful</title>
      <link href="/others/2024/04/11/others/Flask-Restful/"/>
      <url>/others/2024/04/11/others/Flask-Restful/</url>
      
        <content type="html"><![CDATA[<p>有空再写，在思源笔记上了</p><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker踩坑记录</title>
      <link href="/others/2024/04/11/others/docker%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/"/>
      <url>/others/2024/04/11/others/docker%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>有空再写，在思源笔记上了</p><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>USBHID</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2024/04/11/others/USBHID/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2024/04/11/others/USBHID/</url>
      
        <content type="html"><![CDATA[<p>这是一个手势快捷方式项目</p><span id="more"></span><h1 id="CH9329芯片"><a href="#CH9329芯片" class="headerlink" title="CH9329芯片"></a>CH9329芯片</h1><h2 id="通信协议"><a href="#通信协议" class="headerlink" title="通信协议"></a>通信协议</h2><ul><li>网易云暂停&#x2F;开启：Ctrl+Alt+P</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">57 AB 00 02 08 05 00 13 00 00 00 00 00 24<br></code></pre></td></tr></table></figure><h2 id="踩坑"><a href="#踩坑" class="headerlink" title="踩坑"></a>踩坑</h2><h3 id="为什么按下按键要释放呢？"><a href="#为什么按下按键要释放呢？" class="headerlink" title="为什么按下按键要释放呢？"></a>为什么按下按键要释放呢？</h3><p>测试结果：如果不释放，就会一直触发，虽然表面看没什么，实际上还在运行。当拔掉之后，就会出问题了。或者说是不触发。</p>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> USB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux蓝牙</title>
      <link href="/Linux/2024/02/17/Linux/linux%E8%93%9D%E7%89%99/"/>
      <url>/Linux/2024/02/17/Linux/linux%E8%93%9D%E7%89%99/</url>
      
        <content type="html"><![CDATA[<p>蓝牙调试，连接，连接蓝牙耳机</p><span id="more"></span><h1 id="BlueZ调试工具"><a href="#BlueZ调试工具" class="headerlink" title="BlueZ调试工具"></a>BlueZ调试工具</h1><p>​使用 **bluetoothctl **命令进入bluez控制台，</p><h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><ul><li><p>power on：打开蓝牙总开关，同理power off就是关闭蓝牙总开关，下面的命令也是同理。</p></li><li><p>show：显示本地蓝牙适配器的信息。</p></li><li><p>discoverable on：设置经典蓝牙可被发现，开启后手机的蓝牙设置界面可以搜索到该蓝牙设备。</p></li><li><p>pair on：使能经典蓝牙的可配对。</p></li><li><p>system-alias：设置设备的蓝牙别名，即手机蓝牙设置界面扫描时看到的设备名。</p></li><li><p>agent NoInputNoOutput：设置配对能力级为无输入无输出，设置成该agent后经典蓝牙配对时设备无需输入配对码，手机上点击确定即可完成配对。</p></li><li><p>scan on：开启蓝牙扫描，如果设备支持双模蓝牙，那么会同时扫描经典蓝牙和低功耗蓝牙，扫描一段</p><p>时间后可以通过scan off关闭扫描。</p></li><li><p>devices：列出当前可用列表，该列表包含了已配对的设备和刚扫描到的设备。</p></li><li><p>info：查看某一设备的具体信息。</p></li><li><p>connect：尝试连接设备。</p></li><li><p>disconnect：断开设备连接。</p></li><li><p>pair：发起配对。</p></li><li><p>advertise on：开启BLE广播。</p></li><li><p>remove：移除设备，如果是已配对的设备，绑定关系也会移除。</p></li><li><p>menu：进入子菜单，目前有advertise、scan、gatt三个子菜单，分别用于设置BLE广播信息、扫描过滤、GATT设置。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux音频</title>
      <link href="/Linux/2024/02/17/Linux/linux%E9%9F%B3%E9%A2%91/"/>
      <url>/Linux/2024/02/17/Linux/linux%E9%9F%B3%E9%A2%91/</url>
      
        <content type="html"><![CDATA[<p>命令行播放音乐及音量调节，录音</p><span id="more"></span><h1 id="终端音量调节"><a href="#终端音量调节" class="headerlink" title="终端音量调节"></a>终端音量调节</h1><ul><li>使用<strong>alsa</strong>中的<strong>amixer</strong>工具</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">alsamixer<br></code></pre></td></tr></table></figure><ul><li>还有个<strong>pactl</strong>，没用过</li></ul><h1 id="录音"><a href="#录音" class="headerlink" title="录音"></a>录音</h1><p>貌似是系统自带的录音功能</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">arecord demo.wav<br><span class="hljs-meta prompt_"># </span><span class="language-bash">立体声</span><br>arecord -f cd demo.wav<br></code></pre></td></tr></table></figure><h1 id="录屏"><a href="#录屏" class="headerlink" title="录屏"></a>录屏</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install kazam<br>kazam -f # 截屏<br>kazam --silent # 录屏<br></code></pre></td></tr></table></figure><h1 id="播放器"><a href="#播放器" class="headerlink" title="播放器"></a>播放器</h1><ul><li>mpg123</li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux服务管理工具</title>
      <link href="/Linux/2024/02/17/Linux/linux%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/"/>
      <url>/Linux/2024/02/17/Linux/linux%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<p>来源于 **systemctl **和 <strong>&#x2F;etc&#x2F;init.d</strong> 的疑问</p><span id="more"></span><h1 id="systemctl"><a href="#systemctl" class="headerlink" title="systemctl"></a><a href="https://blog.csdn.net/u012581020/article/details/131413456">systemctl</a></h1><p>systemctl命令和&#x2F;etc&#x2F;init.d&#x2F;都是Linux系统中用于管理服务的工具</p><p>systemctl命令是systemd系统服务管理器的一部分，它是systemd init系统的核心组件。</p><p>systemd是一种init系统，它用于初始化和管理Linux系统服务。</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>apache2踩坑</title>
      <link href="/Linux/2024/02/16/Linux/apache2%E8%B8%A9%E5%9D%91/"/>
      <url>/Linux/2024/02/16/Linux/apache2%E8%B8%A9%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<p>关于apache2的一些使用问题</p><span id="more"></span><p>安装省略</p><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><ul><li><p>启动</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo /etc/init.d/apache2 start<br></code></pre></td></tr></table></figure></li><li><p>查看进程</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ps aux | grep apache<br></code></pre></td></tr></table></figure></li><li><p>查看安装路径</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">whereis apache<br></code></pre></td></tr></table></figure></li><li><p>检查配置错误</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apache2ctl configtest<br></code></pre></td></tr></table></figure></li><li><p>查看服务器当前状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo systemctl status apache2<br></code></pre></td></tr></table></figure></li></ul><h2 id="配置不同端口"><a href="#配置不同端口" class="headerlink" title="配置不同端口"></a>配置不同端口</h2><p>​修改 <strong>&#x2F;etc&#x2F;apache2&#x2F;sites-enabled&#x2F;000-default.conf</strong> 文件，可以把原来的配置给注释掉，模板如👇</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell">Listen 81<br>&lt;VirtualHost *:81&gt;<br>    DocumentRoot  /var/www/html<br>    ServerName    http://192.168.1.66:81/<br>&lt;/VirtualHost&gt;<br><br>Listen 82<br>&lt;VirtualHost *:82&gt;<br>    DocumentRoot  /var/www/pi<br>    ServerName    http://192.168.1.66:82/<br>&lt;/VirtualHost&gt;<br></code></pre></td></tr></table></figure><p>配置完记得重启服务。</p><h1 id="踩坑"><a href="#踩坑" class="headerlink" title="踩坑"></a>踩坑</h1><h2 id="AH00558-apache2-Could-not-reliably-determine-the-server’s-fully-qualified-domain-name-using-127-0-1-1-Set-the-‘ServerName’-directive-globally-to-suppress-this-message"><a href="#AH00558-apache2-Could-not-reliably-determine-the-server’s-fully-qualified-domain-name-using-127-0-1-1-Set-the-‘ServerName’-directive-globally-to-suppress-this-message" class="headerlink" title="AH00558: apache2: Could not reliably determine the server’s fully qualified domain name, using 127.0.1.1. Set the ‘ServerName’ directive globally to suppress this message"></a>AH00558: apache2: Could not reliably determine the server’s fully qualified domain name, using 127.0.1.1. Set the ‘ServerName’ directive globally to suppress this message</h2><p>在这个文件下*&#x2F;etc&#x2F;apache2&#x2F;apache2.conf*，最后加入一句: <strong>ServerName localhost:80</strong></p><h2 id="关于上传文件有上限"><a href="#关于上传文件有上限" class="headerlink" title="关于上传文件有上限"></a>关于上传文件有上限</h2><p>​到<strong>php</strong>目录下的<strong>apache2</strong>文件中配置<strong>php.ini</strong>文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /etc/php/7.0/apache2<br></code></pre></td></tr></table></figure><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202402171253759.png" alt="image-20240217125352726"></p><p>修改这三个地方，最后重启</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">upload_max_filesize</span> = <span class="hljs-number">1000</span>M<span class="hljs-comment">;</span><br><span class="hljs-attr">post_max_size</span> = <span class="hljs-number">1000</span>M<span class="hljs-comment">;</span><br><span class="hljs-attr">max_execution_time</span>=<span class="hljs-number">600</span><span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><h2 id="关于apache2不能解析php"><a href="#关于apache2不能解析php" class="headerlink" title="关于apache2不能解析php"></a>关于apache2不能解析php</h2><p>​apache服务器能够正常运行，但是不能解析php（直接输出源码）</p><p><strong>解决方法：</strong></p><ol><li><p>安装lib</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get install libapache2-mod-php7.0  # 改成自己对应的版本<br></code></pre></td></tr></table></figure></li><li><p>修改配置文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /etc/apache2/mods-enabled<br>sudo vim php7.0.conf<br></code></pre></td></tr></table></figure><p>把 **require all denied **改为 <strong>granted</strong></p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202402161439604.png" alt="image-20240216143928535"></p><p>最后记得重启服务</p></li></ol><h3 id="还有一个lamp环境问题"><a href="#还有一个lamp环境问题" class="headerlink" title="还有一个lamp环境问题"></a>还有一个lamp环境问题</h3><p>​好像要装一些交互的程序，如下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install php-mysql php-gd libjpeg* php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-mcrypt php-bcmath php-mhash libmcrypt<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nanopi使用WiringPi库</title>
      <link href="/Linux/2024/02/16/Linux/Nanopi%E4%BD%BF%E7%94%A8WiringPi%E5%BA%93/"/>
      <url>/Linux/2024/02/16/Linux/Nanopi%E4%BD%BF%E7%94%A8WiringPi%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<p>NanoPi使用WiringNp库移植的是树莓派的WiringPi库，所以都是通用的，直接看WiringPi库教程就完事了</p><span id="more"></span><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>​简单，省略了。。。。</p><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h3 id="相关API"><a href="#相关API" class="headerlink" title="相关API"></a>相关API</h3><blockquote><p>没啥要注意的，例程直接抄就能运行</p></blockquote><h4 id="GIPO"><a href="#GIPO" class="headerlink" title="GIPO"></a>GIPO</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;wiringPi.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>  wiringPiSetup() ;<br>  pinMode (<span class="hljs-number">7</span>, OUTPUT) ;<br>  <span class="hljs-keyword">for</span>(;;)<br>  &#123;<br>    digitalWrite(<span class="hljs-number">7</span>, HIGH) ;<br>    delay (<span class="hljs-number">500</span>) ;<br>    digitalWrite(<span class="hljs-number">7</span>,  LOW) ;<br>    delay (<span class="hljs-number">500</span>) ;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="PWM"><a href="#PWM" class="headerlink" title="PWM"></a>PWM</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;wiringPi.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdint.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span> <span class="hljs-params">(<span class="hljs-type">void</span>)</span><br>&#123;<br>  <span class="hljs-type">int</span> l ;<br>  <span class="hljs-built_in">printf</span> (<span class="hljs-string">&quot;PWM test program\n&quot;</span>) ;<br> <br>  <span class="hljs-comment">//using wiringPi Pin Number</span><br>  <span class="hljs-type">int</span> pin = <span class="hljs-number">18</span>;              <br>  <span class="hljs-keyword">if</span> (wiringPiSetup () == <span class="hljs-number">-1</span>)<br>    <span class="hljs-built_in">exit</span> (<span class="hljs-number">1</span>) ;                                      <br> <br>  pinMode (pin, PWM_OUTPUT);<br>  <span class="hljs-keyword">for</span> (;;) &#123;                      <br>    <span class="hljs-keyword">for</span> (l = <span class="hljs-number">0</span> ; l &lt; <span class="hljs-number">1024</span> ; ++l) &#123;<br>      pwmWrite (pin, l) ;         <br>      delay (<span class="hljs-number">1</span>) ;        <br>    &#125;                              <br>    <span class="hljs-keyword">for</span> (l = <span class="hljs-number">1023</span> ; l &gt;= <span class="hljs-number">0</span> ; --l) &#123;<br>      pwmWrite (pin, l) ;          <br>      delay (<span class="hljs-number">1</span>) ;        <br>    &#125;            <br>  &#125;         <br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> ;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="UART"><a href="#UART" class="headerlink" title="UART"></a>UART</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;wiringPi.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;wiringSerial.h&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;signal.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span><br><br><span class="hljs-type">int</span> running = <span class="hljs-number">1</span>;<br><br><span class="hljs-type">void</span> <span class="hljs-title function_">sig_handle</span><span class="hljs-params">(<span class="hljs-type">int</span> sig)</span><br>&#123;<br>   <span class="hljs-keyword">if</span>(sig == SIGINT)   running = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;    <br>    signal(SIGINT, sig_handle);    <br><br>    <span class="hljs-type">int</span> fd;<br>    <span class="hljs-keyword">if</span>(wiringPiSetup() &lt; <span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;wiringPi setup failed.\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-type">int</span> baudrate = <span class="hljs-number">115200</span>;<br><br>    <span class="hljs-comment">// 使用硬件串口1</span><br>    <span class="hljs-keyword">if</span>((fd = serialOpen(<span class="hljs-string">&quot;/dev/ttyS1&quot;</span>, baudrate)) &lt; <span class="hljs-number">0</span>)&#123;  <br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;serial open failed.\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;serial test output ...\n&quot;</span>); <br>    serialPrintf(fd, <span class="hljs-string">&quot;0123456789abcdef&quot;</span>);  <span class="hljs-comment">//发送</span><br><br>    <span class="hljs-keyword">while</span>(running)<br>    &#123;<br>       <span class="hljs-type">int</span> sz = serialDataAvail(fd); <span class="hljs-comment">// 等待介绍的数据个数</span><br>       <br>       <span class="hljs-keyword">if</span>(sz &gt; <span class="hljs-number">0</span>)<br>       &#123;<br>         <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;size %d, &quot;</span>, sz);<br>         <span class="hljs-type">char</span> *buff =(<span class="hljs-type">char</span>*)<span class="hljs-built_in">calloc</span>(sz,<span class="hljs-number">1</span>);<span class="hljs-comment">// 用这个分配空间可以赋0</span><br>         <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;recv: &quot;</span>);<br>         <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; sz; i++)&#123;<br>              <span class="hljs-type">int</span> c = serialGetchar(fd);  <span class="hljs-comment">//接收一个字符</span><br>              <span class="hljs-comment">//if(c != -1)</span><br>                  buff[i] = c;  <br>         &#125;<br>         <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, buff);<br>         <span class="hljs-built_in">free</span>(buff);<br>         serialPrintf(fd, buff);<span class="hljs-comment">//回显</span><br>       &#125;<br>       <span class="hljs-keyword">else</span>&#123;<br>         usleep(<span class="hljs-number">50000</span>); <span class="hljs-comment">// 必要的延时50ms</span><br>       &#125;<br>    &#125;<br><br>    serialClose(fd);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;close serial.\n&quot;</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="I2C"><a href="#I2C" class="headerlink" title="I2C"></a>I2C</h4><h4 id="SPI"><a href="#SPI" class="headerlink" title="SPI"></a>SPI</h4><h2 id="踩坑"><a href="#踩坑" class="headerlink" title="踩坑"></a>踩坑</h2><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202402161135908.png" alt="image-20240216113502847"></p><p>官网教程这里误导，说是物理编号，其实是 <strong>WPi</strong> 的编号，下面代码可以看出。用的是<em>wiringPiSetup()</em></p><p>这里是三种编号的GPIO编号区别，不同点在于<em>Setup()</em></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//using wiringPi Pin Number</span><br><span class="hljs-type">int</span> pin = <span class="hljs-number">18</span>;              <br><span class="hljs-keyword">if</span> (wiringPiSetup () == <span class="hljs-number">-1</span>)<br>  <span class="hljs-built_in">exit</span> (<span class="hljs-number">1</span>) ;               <br> <br><span class="hljs-comment">//using Physical Pin Number</span><br><span class="hljs-type">int</span> pin = <span class="hljs-number">38</span>;              <br><span class="hljs-keyword">if</span> (wiringPiSetupPhys() == <span class="hljs-number">-1</span>)<br>  <span class="hljs-built_in">exit</span> (<span class="hljs-number">1</span>) ;                  <br><br><span class="hljs-comment">//using BCM Pin Number</span><br><span class="hljs-type">int</span> pin = <span class="hljs-number">5</span>;          <br><span class="hljs-keyword">if</span> (wiringPiSetupGpio() == <span class="hljs-number">-1</span>)<br>  <span class="hljs-built_in">exit</span> (<span class="hljs-number">1</span>);                   <br> <br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> NanoPi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>keras踩坑记录</title>
      <link href="/Deep-learning/2024/02/03/deep%20learning/keras%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/"/>
      <url>/Deep-learning/2024/02/03/deep%20learning/keras%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>keras</p><span id="more"></span><h1 id="安装日记"><a href="#安装日记" class="headerlink" title="安装日记"></a>安装日记</h1><h2 id="conda和pip问题"><a href="#conda和pip问题" class="headerlink" title="conda和pip问题"></a>conda和pip问题</h2><p>同一个环境下，pip和conda同时安装一个软件包，会导致以下问题：👇</p><ul><li><strong>版本冲突:</strong> 两个 NumPy 版本可能不同，导致程序运行时出现错误。</li><li><strong>依赖关系冲突:</strong> 两个 NumPy 可能依赖于不同的库版本，导致程序运行时出现错误。</li><li><strong>环境污染:</strong> pip 和 conda 使用不同的包管理方式，混合使用可能会导致环境混乱。</li></ul><p><em>所以：</em>环境中不要两个混着使用，如果两个都安装了，删掉其中一个即可</p><h2 id="keras导入错误"><a href="#keras导入错误" class="headerlink" title="keras导入错误"></a>keras导入错误</h2><blockquote><p>raise AttributeError(“module {!r} has no attribute “ </p><p>AttributeError: module ‘numpy’ has no attribute ‘typeDict’</p></blockquote><p>这个报错，基本都是numpy的版本问题。解决方法如下：👇</p><ol><li>创建个新的环境，完全没干扰，百分百成功</li><li>把numpy当前版本删了，keras也删了，重新安装，最终发现依赖版本是这个<br><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202402031350706.png" alt="image-20240203135017636"></li></ol><h1 id="使用注意"><a href="#使用注意" class="headerlink" title="使用注意"></a>使用注意</h1><h2 id="模块导入"><a href="#模块导入" class="headerlink" title="模块导入"></a>模块导入</h2><blockquote><p>导入keras之前，先把后端确定</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> os<br><br>os.environ[<span class="hljs-string">&quot;KERAS_BACKEND&quot;</span>] = <span class="hljs-string">&quot;torch&quot;</span><span class="hljs-comment"># 可选 &quot;tensorflow&quot; &quot;torch&quot; &quot;jax&quot;</span><br><br><span class="hljs-comment"># Note that Keras should only be imported after the backend</span><br><span class="hljs-comment"># has been configured. The backend cannot be changed once the</span><br><span class="hljs-comment"># package is imported.</span><br><span class="hljs-keyword">import</span> keras<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> deep learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESP8266温湿度项目</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2024/01/17/%E5%8D%95%E7%89%87%E6%9C%BA/ESP8266%E6%B8%A9%E6%B9%BF%E5%BA%A6%E9%A1%B9%E7%9B%AE/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2024/01/17/%E5%8D%95%E7%89%87%E6%9C%BA/ESP8266%E6%B8%A9%E6%B9%BF%E5%BA%A6%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<p>MQTT连接，开发踩坑</p><span id="more"></span><h1 id="知识总结"><a href="#知识总结" class="headerlink" title="知识总结"></a>知识总结</h1><h2 id="学习一门东西时，先找到一个相关的最容易的东西先，然后类比"><a href="#学习一门东西时，先找到一个相关的最容易的东西先，然后类比" class="headerlink" title="学习一门东西时，先找到一个相关的最容易的东西先，然后类比"></a>学习一门东西时，先找到一个相关的最容易的东西先，然后类比</h2><p>​ESP8266有例程但是官方文档的API介绍少，ESP32其实类似的，所以可以先开发ESP32，最后再类比到ESP8266即可。</p><h2 id="关于ESP8266烧录地址"><a href="#关于ESP8266烧录地址" class="headerlink" title="关于ESP8266烧录地址"></a>关于ESP8266烧录地址</h2><p>Flash布局</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202401171325354.png" alt="image-20240117132521314"></p><p>不支持OTA</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202401171323634.png" alt="image-20240117132304583"></p><p>支持OTA</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202401171323221.png" alt="image-20240117132336171"></p><h2 id="ESP8266智能配网"><a href="#ESP8266智能配网" class="headerlink" title="ESP8266智能配网"></a>ESP8266智能配网</h2><p>​智能配网有很多方法。直接拿例程的智能配网就行，把模式改成 SC_TYPE_ESPTOUCH_AIRKISS 就能用安可信公众号进行微信配网。</p><h3 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h3><p><a href="https://blog.csdn.net/sssxlxwbwz/article/details/122047232">参考1</a></p><h1 id="踩坑"><a href="#踩坑" class="headerlink" title="踩坑"></a>踩坑</h1><h2 id="MQTT平台"><a href="#MQTT平台" class="headerlink" title="MQTT平台"></a>MQTT平台</h2><h3 id="OneNet"><a href="#OneNet" class="headerlink" title="OneNet"></a>OneNet</h3><p>​token计算麻烦得一批，连接半天发现是连接的IP错了。。。而且是官方教程？！</p><p><em>好家伙，到最后发现没有APP用，控制不了</em></p><blockquote><p>好像是新版和旧版之间的关系，新版已经不用ip地址了，改成了域名的形式 ：studio-mqtt.heclouds.com</p></blockquote><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202401171745766.png" alt="image-20240117174543729"></p><p><a href="https://blog.csdn.net/Jessaly/article/details/108853090">成功案例</a>   ,<a href="https://open.iot.10086.cn/doc/v5/fuse/detail/919">这个地址也行</a>，<a href="https://open.iot.10086.cn/doc/v5/develop/detail/624">token计算工具</a>，<a href="https://open.iot.10086.cn/doc/v5/develop/detail/mqtt">旧版的MQTT文档</a></p><blockquote><p>res:  products&#x2F;(产品ID)&#x2F;devices&#x2F;(设备名称)</p><p>et: unix时间戳，<a href="https://tool.chinaz.com/tools/unixtime.aspx">网站获取</a></p><p>key: 设备的key</p></blockquote><h4 id="关于如何上传数据到onenet平台"><a href="#关于如何上传数据到onenet平台" class="headerlink" title="关于如何上传数据到onenet平台"></a>关于如何上传数据到onenet平台</h4><p>​避雷：官方文档就是一坨，还不如直接去CSDN找。官方教程好像是OneJson，而不是”数据流“</p><p>clion可以自动自动转义json格式，结果publish了半天发布不了。。。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 关于ESP32的mqtt配置</span><br><span class="hljs-type">esp_mqtt_client_config_t</span> mqtt_cfg = &#123;<br>        .broker.address.uri = <span class="hljs-string">&quot;mqtt://mqtts.heclouds.com:1883&quot;</span>,<br>        .credentials.client_id = <span class="hljs-string">&quot;esp826&quot;</span>,<br>        .credentials.username = <span class="hljs-string">&quot;NQ2cJlHtxu&quot;</span>,<br>        .credentials.authentication.password = <span class="hljs-string">&quot;version=2018-10-31&amp;res=products%2FNQ2cJlHtxu%2Fdevices%2Fesp8266&amp;et=1732986061&amp;method=md5&amp;sign=7PurO50t0PbE8YIgl2bCGw%3D%3D&quot;</span><br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="数据流一定要是数字，不能包含特殊符号，字符串那些！？"><a href="#数据流一定要是数字，不能包含特殊符号，字符串那些！？" class="headerlink" title="数据流一定要是数字，不能包含特殊符号，字符串那些！？"></a>数据流一定要是数字，不能包含特殊符号，字符串那些！？</h4><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202401221809210.png" alt="image-20240122180902129"></p><h4 id="成功的json模板"><a href="#成功的json模板" class="headerlink" title="成功的json模板"></a>成功的json模板</h4><blockquote><p>资料：<a href="https://mpython.readthedocs.io/zh/master/classic/oneNET/oneNetDatastreams.html">mpython</a><a href="https://blog.csdn.net/bsy1111/article/details/134097077">成功案例</a></p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// 成功的数据流json</span><br><span class="hljs-punctuation">&#123;</span><br> <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">123</span><span class="hljs-punctuation">,</span><br> <span class="hljs-attr">&quot;dp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;temperatrue&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span><br>   <span class="hljs-attr">&quot;v&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">30</span><br>   <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;power&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span><br>   <span class="hljs-attr">&quot;v&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4.5</span><br>   <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><br> <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br><br><span class="hljs-comment">// 我写的json</span><br><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;123&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-comment">// 好吧，最后发现，错误是在这里，123不应该是字符串，字符串应该是OneJson的格式</span><br>    <span class="hljs-attr">&quot;dp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;value&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">&#123;</span><br>            <span class="hljs-attr">&quot;v&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">111</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span> <br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="机智云"><a href="#机智云" class="headerlink" title="机智云"></a>机智云</h3><p>二次开发麻烦，比较适合那种直接使用AT指令的</p><h3 id="EMQX"><a href="#EMQX" class="headerlink" title="EMQX"></a>EMQX</h3><p>​简单好用且开源，主题没有固定，自定义程度高。<em>需要注意的是：连接默认使用的是SSL，所以要导入证书</em></p><p>创建步骤：</p><ol><li>先部署项目</li><li>在认证那里先创建一个用户</li><li>然后看下图就行</li></ol><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202401191702053.png" alt="image-20240119170239991"></p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202401191702543.png" alt="image-20240119170250479"></p><h3 id="阿里云IOT"><a href="#阿里云IOT" class="headerlink" title="阿里云IOT"></a>阿里云IOT</h3><p><a href="https://www.alibabacloud.com/help/zh/iot/getting-started/using-mqtt-fx-to-access-iot-platform?spm=a2c63.p38356.0.0.4cd6851aC1SFdw">教程</a></p><table><thead><tr><th>address</th><th>k18mkCEjC96.iot-as-mqtt.cn-shanghai.aliyuncs.com</th></tr></thead><tbody><tr><td>Client ID</td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr></tbody></table><h2 id="SNT网络时间"><a href="#SNT网络时间" class="headerlink" title="SNT网络时间"></a>SNT网络时间</h2><p><a href="https://blog.csdn.net/qq_41741344/article/details/120117151">https://blog.csdn.net/qq_41741344/article/details/120117151</a></p><h2 id="DHT11误差"><a href="#DHT11误差" class="headerlink" title="DHT11误差"></a>DHT11误差</h2><h3 id="出现局部误差"><a href="#出现局部误差" class="headerlink" title="出现局部误差"></a>出现局部误差</h3><p>​也不知道是算法有问题还是什么，单一测试的时候没问题，整合起来出现的。原来是DHT11测量的时候，校验没过，所以直接就赋值100了，至于为什么没过校验就就不懂了。</p><p>​后面直接把校验给去了。。。从根源解决问题</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202401201956600.png" alt="image-20240120195654550"></p>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ESP8266 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>把Ubuntu装进移动硬盘</title>
      <link href="/others/2024/01/14/others/%E6%8A%8AUbuntu%E8%A3%85%E8%BF%9B%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98/"/>
      <url>/others/2024/01/14/others/%E6%8A%8AUbuntu%E8%A3%85%E8%BF%9B%E7%A7%BB%E5%8A%A8%E7%A1%AC%E7%9B%98/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>​准备一个Ubuntu系统盘，一个移动硬盘。像装windows一样的步骤</p><h2 id="Warnning"><a href="#Warnning" class="headerlink" title="Warnning"></a>Warnning</h2><ul><li>不能直接烧录镜像到移动硬盘</li><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> others </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP8266开发环境搭建</title>
      <link href="/uncategorized/2023/12/10/%E5%8D%95%E7%89%87%E6%9C%BA/ESP8266%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>/uncategorized/2023/12/10/%E5%8D%95%E7%89%87%E6%9C%BA/ESP8266%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<p>ESP8266与Clion开发环境配置</p><span id="more"></span><h1 id="克隆"><a href="#克隆" class="headerlink" title="克隆"></a>克隆</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git clone --recursive https://github.com/espressif/ESP8266_RTOS_SDK.git<br></code></pre></td></tr></table></figure><h1 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h1><p>最好就是独立创建一个python的虚拟环境来配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">pip install --user -r 克隆下来的路径/requirements.txt<br></code></pre></td></tr></table></figure><h1 id="下载工具链"><a href="#下载工具链" class="headerlink" title="下载工具链"></a>下载工具链</h1><p>下载好随便丢一个目录，后面的环境变量配置需要添加上去。</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202312110139953.png" alt="image-20231211013902935"></p><h1 id="clion配置"><a href="#clion配置" class="headerlink" title="clion配置"></a>clion配置</h1><p>path是必须配置的，PYTHON是看情况</p><p>上面三个是利用串口烧录也就是flash要用到的。</p><p>环境变量最好是也钩上，不然出什么问题也不知道。</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202312110136154.png" alt="image-20231211013649110"></p><p>8266环境变量</p><table><thead><tr><th>ESPBAUD</th><th>115200</th></tr></thead><tbody><tr><td>ESPPORT</td><td>COM3</td></tr><tr><td>IDF_PATH</td><td>F:&#x2F;Desktop&#x2F;ESP8266&#x2F;ESP8266_RTOS_SDK</td></tr><tr><td>MONITORBAUD</td><td>115200</td></tr><tr><td>path</td><td>F:&#x2F;Desktop&#x2F;ESP8266&#x2F;xtensa-lx106-elf&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;xtensa-esp-elf-gdb&#x2F;12.1_20231023&#x2F;xtensa-esp-elf-gdb&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;riscv32-esp-elf-gdb&#x2F;12.1_20231023&#x2F;riscv32-esp-elf-gdb&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;xtensa-esp-elf&#x2F;esp-13.2.0_20230928&#x2F;xtensa-esp-elf&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;riscv32-esp-elf&#x2F;esp-13.2.0_20230928&#x2F;riscv32-esp-elf&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;esp32ulp-elf&#x2F;2.35_20220830&#x2F;esp32ulp-elf&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;cmake&#x2F;3.24.0&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;openocd-esp32&#x2F;v0.12.0-esp32-20230921&#x2F;openocd-esp32&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;ninja&#x2F;1.11.1&#x2F;;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;idf-exe&#x2F;1.0.3&#x2F;;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;ccache&#x2F;4.8&#x2F;ccache-4.8-windows-x86_64;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;tools&#x2F;dfu-util&#x2F;0.11&#x2F;dfu-util-0.11-win64;C:&#x2F;Users&#x2F;19693&#x2F;.espressif&#x2F;python_env&#x2F;idf5.3_py3.11_env&#x2F;Scripts;C:&#x2F;Users&#x2F;19693&#x2F;esp&#x2F;esp-idf&#x2F;tools;D:&#x2F;Mincoda&#x2F;condabin;C:&#x2F;Program Files (x86)&#x2F;Common Files&#x2F;Oracle&#x2F;Java&#x2F;javapath;D:&#x2F;CudaDevelopment&#x2F;bin;D:&#x2F;CudaDevelopment&#x2F;libnvvp;C:&#x2F;Windows&#x2F;system32;C:&#x2F;Windows;C:&#x2F;Windows&#x2F;System32&#x2F;Wbem;C:&#x2F;Windows&#x2F;System32&#x2F;WindowsPowerShell&#x2F;v1.0&#x2F;;C:&#x2F;Program Files (x86)&#x2F;NVIDIA Corporation&#x2F;PhysX&#x2F;Common;C:&#x2F;Program Files&#x2F;NVIDIA Corporation&#x2F;NVIDIA NvDLISR;C:&#x2F;Program Files&#x2F;dotnet&#x2F;;D:&#x2F;Qt&#x2F;6.2.4&#x2F;msvc2019_64&#x2F;bin;D:&#x2F;Qt&#x2F;6.2.4&#x2F;mingw_64&#x2F;bin;D:&#x2F;Nodejs&#x2F;;C:&#x2F;Program Files&#x2F;NVIDIA Corporation&#x2F;Nsight Compute 2022.3.0&#x2F;;C:&#x2F;Program Files&#x2F;NVIDIA GPU Computing Toolkit&#x2F;CUDA&#x2F;v11.8&#x2F;lib&#x2F;x64;C:&#x2F;Program Files&#x2F;NVIDIA GPU Computing Toolkit&#x2F;CUDA&#x2F;v11.8&#x2F;bin;C:&#x2F;Program Files&#x2F;NVIDIA GPU Computing Toolkit&#x2F;CUDA&#x2F;v11.8&#x2F;include;D:&#x2F;wifi;D:&#x2F;12.2 rel1&#x2F;bin;D:&#x2F;OpenOCD-20230712-0.12.0&#x2F;bin;D:&#x2F;Qt&#x2F;Tools&#x2F;mingw1120_64&#x2F;bin;C:&#x2F;Windows&#x2F;System32&#x2F;OpenSSH;D:&#x2F;mingw64&#x2F;bin;D:&#x2F;cmake&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;esp&#x2F;esp-idf;D:&#x2F;Mincoda;D:&#x2F;Mincoda&#x2F;Scripts;D:&#x2F;Bandizip;C:&#x2F;Program Files (x86)&#x2F;STMicroelectronics&#x2F;STM32 ST-LINK Utility&#x2F;ST-LINK Utility;D:&#x2F;Git&#x2F;cmd;C:&#x2F;Users&#x2F;19693&#x2F;esp32bat;D:&#x2F;12.2 rel1&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;AppData&#x2F;Local&#x2F;Microsoft&#x2F;WindowsApps;D:&#x2F;CLion 2023.1.1&#x2F;bin;D:&#x2F;Qt&#x2F;6.2.4&#x2F;msvc2019_64&#x2F;bin;D:&#x2F;Qt&#x2F;6.2.4&#x2F;mingw_64&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;AppData&#x2F;Roaming&#x2F;npm;D:&#x2F;PyCharm 2023.1&#x2F;bin;D:&#x2F;Microsoft VS Code&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;AppData&#x2F;Local&#x2F;gitkraken&#x2F;bin;c:&#x2F;users&#x2F;19693&#x2F;appdata&#x2F;roaming&#x2F;python&#x2F;python311&#x2F;scripts;c:&#x2F;users&#x2F;19693&#x2F;.local&#x2F;bin;C:&#x2F;Users&#x2F;19693&#x2F;esp&#x2F;esp-idf;D:&#x2F;Mincoda;;E:&#x2F;oh-my-posh&#x2F;bin;E:&#x2F;CLion 2023.3&#x2F;bin;;F:&#x2F;IntelliJ IDEA 2023.2.5&#x2F;bin;</td></tr><tr><td>PYTHON</td><td>D:&#x2F;Mincoda&#x2F;python.exe</td></tr></tbody></table><h1 id="常见错误"><a href="#常见错误" class="headerlink" title="常见错误"></a>常见错误</h1><h3 id="没有指定python造成的，需要在cmake的环境变量中指定python。这里调用了系统默认的python，但是我们其实用的不是这个。"><a href="#没有指定python造成的，需要在cmake的环境变量中指定python。这里调用了系统默认的python，但是我们其实用的不是这个。" class="headerlink" title="没有指定python造成的，需要在cmake的环境变量中指定python。这里调用了系统默认的python，但是我们其实用的不是这个。"></a>没有指定python造成的，需要在cmake的环境变量中指定python。这里调用了系统默认的python，但是我们其实用的不是这个。</h3><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202312102327493.png" alt="image-20231210232707405"></p><h3 id="Cmake过了，但是报头文件错误"><a href="#Cmake过了，但是报头文件错误" class="headerlink" title="Cmake过了，但是报头文件错误"></a>Cmake过了，但是报头文件错误</h3><p>莫名其妙，重刷几次都不行，然后等了一会就行了</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202401162054483.png" alt="image-20240116205417305"></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li><p><a href="https://docs.espressif.com/projects/esp8266-rtos-sdk/en/latest/get-started/index.html#environment-variables">https://docs.espressif.com/projects/esp8266-rtos-sdk/en/latest/get-started/index.html#environment-variables</a></p></li><li></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> ESP8266 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>11月改bug经历</title>
      <link href="/uncategorized/2023/11/27/bug/11%E6%9C%88%E6%94%B9bug%E7%BB%8F%E5%8E%86/"/>
      <url>/uncategorized/2023/11/27/bug/11%E6%9C%88%E6%94%B9bug%E7%BB%8F%E5%8E%86/</url>
      
        <content type="html"><![CDATA[<p>踩坑记录</p><span id="more"></span><h1 id="ESP32"><a href="#ESP32" class="headerlink" title="ESP32"></a>ESP32</h1><p>下半周在ESP32上面写I2C。先是直接用了封装的函数，结果发现不行，然后直接手搓底层逻辑，实现了。最后对比封装函数，发现是地址参数写错了。</p><h1 id="Stm32"><a href="#Stm32" class="headerlink" title="Stm32"></a>Stm32</h1><p>上半周在stm32上面写I2C，</p><h1 id="Qt新建的项目，在clion上打开，直接格式化导致分隔符错误"><a href="#Qt新建的项目，在clion上打开，直接格式化导致分隔符错误" class="headerlink" title="Qt新建的项目，在clion上打开，直接格式化导致分隔符错误"></a>Qt新建的项目，在clion上打开，直接格式化导致分隔符错误</h1><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202312252308125.png" alt="image-20231225230822958"></p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202312252308649.png" alt="image-20231225230858614"></p><p>行分隔符的问题，将行分隔符改成windows就行了。</p><h1 id="开发后续"><a href="#开发后续" class="headerlink" title="开发后续"></a>开发后续</h1>]]></content>
      
      
      
        <tags>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>《人生如逆旅，我亦是行人》读后感</title>
      <link href="/uncategorized/2023/11/25/%E6%80%BB%E7%BB%93%E4%B8%8E%E6%84%9F%E6%82%9F/%E3%80%8A%E4%BA%BA%E7%94%9F%E5%A6%82%E9%80%86%E6%97%85%EF%BC%8C%E6%88%91%E4%BA%A6%E6%98%AF%E8%A1%8C%E4%BA%BA%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F/"/>
      <url>/uncategorized/2023/11/25/%E6%80%BB%E7%BB%93%E4%B8%8E%E6%84%9F%E6%82%9F/%E3%80%8A%E4%BA%BA%E7%94%9F%E5%A6%82%E9%80%86%E6%97%85%EF%BC%8C%E6%88%91%E4%BA%A6%E6%98%AF%E8%A1%8C%E4%BA%BA%E3%80%8B%E8%AF%BB%E5%90%8E%E6%84%9F/</url>
      
        <content type="html"><![CDATA[<span id="more"></span>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP32之I2C</title>
      <link href="/uncategorized/2023/11/25/%E5%8D%95%E7%89%87%E6%9C%BA/ESP32%E4%B9%8BI2C/"/>
      <url>/uncategorized/2023/11/25/%E5%8D%95%E7%89%87%E6%9C%BA/ESP32%E4%B9%8BI2C/</url>
      
        <content type="html"><![CDATA[<p>ESP32之I2C坑</p><span id="more"></span><h1 id="IDF-5-1"><a href="#IDF-5-1" class="headerlink" title="IDF 5.1"></a>IDF 5.1</h1><blockquote><p>驱动库是driver&#x2F;i2c.h</p></blockquote><h2 id="从底层原理来实现"><a href="#从底层原理来实现" class="headerlink" title="从底层原理来实现"></a>从底层原理来实现</h2><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202312031421364.png" alt="image-20231203142120310"></p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202312031421003.png" alt="image-20231203142135961"></p><h2 id="封装好的函数"><a href="#封装好的函数" class="headerlink" title="封装好的函数"></a>封装好的函数</h2><p>不用按照上面的那些底层步骤，一步步地写，直接用封装好的函数就行了。</p><h3 id="发送"><a href="#发送" class="headerlink" title="发送"></a>发送</h3><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202312031501961.png" alt="image-20231203150120919"></p><h3 id="接收"><a href="#接收" class="headerlink" title="接收"></a>接收</h3><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202312031501162.png" alt="image-20231203150135133"></p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol><li>引脚配置</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">i2c_config_t</span> conf = &#123;<br>            .mode = I2C_MODE_MASTER,<br>            .sda_io_num = AHT10_MASTER_SDA_IO,<br>            .scl_io_num = AHT10_MASTER_SCL_IO,<br>            .sda_pullup_en = GPIO_PULLUP_ENABLE,<br>            .scl_pullup_en = GPIO_PULLUP_ENABLE,<br>            .master.clk_speed = I2C_MASTER_FREQ_HZ,<br>    &#125;;<br><br><span class="hljs-type">esp_err_t</span> ret = i2c_param_config(i2c_master_port, &amp;conf);<br></code></pre></td></tr></table></figure><ol start="2"><li>安装驱动</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">i2c_driver_install<br></code></pre></td></tr></table></figure><ol start="3"><li>直接掉封装好的函数</li></ol><h1 id="IDF-5-3"><a href="#IDF-5-3" class="headerlink" title="IDF 5.3"></a>IDF 5.3</h1><blockquote><p>I2C驱动库更新了，主机模式，驱动库是 driver&#x2F;i2c_master.h</p></blockquote><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://docs.espressif.com/projects/esp-idf/zh_CN/v4.4.2/esp32/api-reference/peripherals/i2c.html#i2c-api-master-mode">官方手册</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> ESP32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HAL之I2C</title>
      <link href="/uncategorized/2023/11/22/%E5%8D%95%E7%89%87%E6%9C%BA/HAL%E4%B9%8BI2C/"/>
      <url>/uncategorized/2023/11/22/%E5%8D%95%E7%89%87%E6%9C%BA/HAL%E4%B9%8BI2C/</url>
      
        <content type="html"><![CDATA[<p>HAL库I2C配置</p><span id="more"></span><h1 id="Cubemx配置"><a href="#Cubemx配置" class="headerlink" title="Cubemx配置"></a>Cubemx配置</h1><p>就一个步骤</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311282035259.png" alt="image-20231128203510157"></p><h1 id="基本函数"><a href="#基本函数" class="headerlink" title="基本函数"></a>基本函数</h1><h2 id="HAL-I2C-Mem-Write"><a href="#HAL-I2C-Mem-Write" class="headerlink" title="HAL_I2C_Mem_Write"></a>HAL_I2C_Mem_Write</h2><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311221921602.png" alt="image-20231122192151548"></p><h2 id="HAL-I2C-Master-Transmit"><a href="#HAL-I2C-Master-Transmit" class="headerlink" title="HAL_I2C_Master_Transmit"></a>HAL_I2C_Master_Transmit</h2><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311221928401.png" alt="image-20231122192807377"></p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311221928731.png" alt="image-20231122192839705"></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li><p><a href="https://www.cxyzjd.com/article/weixin_52071377/126492793">https://www.cxyzjd.com/article/weixin_52071377/126492793</a></p></li><li><p><a href="https://www.cnblogs.com/hhmxf/p/16707197.html">https://www.cnblogs.com/hhmxf/p/16707197.html</a></p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Stm32固件升级</title>
      <link href="/uncategorized/2023/11/20/%E5%8D%95%E7%89%87%E6%9C%BA/Stm32%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7/"/>
      <url>/uncategorized/2023/11/20/%E5%8D%95%E7%89%87%E6%9C%BA/Stm32%E5%9B%BA%E4%BB%B6%E5%8D%87%E7%BA%A7/</url>
      
        <content type="html"><![CDATA[<p>固件升级的方式</p><span id="more"></span><h1 id="ISP"><a href="#ISP" class="headerlink" title="ISP"></a>ISP</h1><p>ISP（In-System Programming）<br>在系统编程，使用引导程序（Bootloader）加上外围<strong>UART&#x2F;SPI等接口</strong>进行烧录。</p><h1 id="ICP"><a href="#ICP" class="headerlink" title="ICP"></a>ICP</h1><p>ICP （In-circuit programmer）<br>在电路编程，使用<strong>SWD&#x2F;JTAG接口</strong>。</p><h1 id="IAP"><a href="#IAP" class="headerlink" title="IAP"></a>IAP</h1><p>IAP（In-Application Programming）<br>指MCU可以在系统中获取新代码并对自己重新编程，即<strong>用程序来改变程序</strong>。</p><h1 id="FOTA"><a href="#FOTA" class="headerlink" title="FOTA"></a>FOTA</h1>]]></content>
      
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cJSON</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/11/19/%E5%8D%95%E7%89%87%E6%9C%BA/cJSON/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/11/19/%E5%8D%95%E7%89%87%E6%9C%BA/cJSON/</url>
      
        <content type="html"><![CDATA[<p>cJSON使用</p><span id="more"></span>、<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p><a href="https://sourceforge.net/projects/cjson/">官方文件</a></p><p>把<em>cJSON.h cJSON.c</em> 复制到工程目录下</p><h1 id="创建json"><a href="#创建json" class="headerlink" title="创建json"></a>创建json</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"> <span class="hljs-type">char</span> *data;<br>cJSON *usr;<br>usr = cJSON_CreateObject();   <span class="hljs-comment">//创建根数据对象</span><br>cJSON_AddItemToObject(usr, <span class="hljs-string">&quot;A&quot;</span>, cJSON_CreateNumber(<span class="hljs-number">123</span>));  <span class="hljs-comment">//根节点下添加数字</span><br>cJSON_AddItemToObject(usr, <span class="hljs-string">&quot;B&quot;</span>, cJSON_CreateString(<span class="hljs-string">&quot;hello&quot;</span>));  <span class="hljs-comment">//根节点下添加字符</span><br>cJSON_AddItemToObject(usr, <span class="hljs-string">&quot;C&quot;</span>, cJSON_CreateString(<span class="hljs-string">&quot;帅&quot;</span>));                    <span class="hljs-comment">//根节点下添加汉字</span><br>data = cJSON_Print(usr);   <span class="hljs-comment">//将json形式打印成正常字符串形式(带有\r\n)</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s&quot;</span>, data);<br>cJSON_Delete(usr);<span class="hljs-comment">// 释放内存</span><br></code></pre></td></tr></table></figure><h1 id="解析json"><a href="#解析json" class="headerlink" title="解析json"></a>解析json</h1><p>解析内容如下</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;command&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">271</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;attach&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;channel&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;info&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>            <span class="hljs-punctuation">&#123;</span><br>                <span class="hljs-attr">&quot;addr&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">208</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;rate&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20000</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;rst&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span><br>                <span class="hljs-attr">&quot;data&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><br>            <span class="hljs-punctuation">&#125;</span><br>        <span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"> cJSON *json, *value，json_list;<br>json = cJSON_Parse(RxBuffer2);<span class="hljs-comment">// 将得到的字符串解析成json形式</span><br>value = cJSON_GetObjectItem(json,<span class="hljs-string">&quot;command&quot;</span>);<span class="hljs-comment">// 从json中获取键值内容</span><br><br><span class="hljs-comment">// 解析嵌套内容</span><br>cjson = cJSON_GetObjectItem(json,<span class="hljs-string">&quot;attach&quot;</span>); <span class="hljs-comment">// 相当于得到了一个新的json对象</span><br><br><span class="hljs-comment">// 解析列表内容</span><br>json_list = cJSON_GetObjectItem(cjson,<span class="hljs-string">&quot;info&quot;</span>);<br><span class="hljs-comment">// 获取列表索引为 0 的元素，</span><br>cJSON_GetObjectItem(cJSON_GetArrayItem(info, <span class="hljs-number">0</span>), <span class="hljs-string">&quot;addr&quot;</span>)-&gt;valueint;<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\r\n&quot;</span>, value-&gt;valueint);<br></code></pre></td></tr></table></figure><p>解析嵌套内容，再获取一遍对象即可</p><h1 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h1><p><a href="https://blog.csdn.net/weixin_45030703/article/details/106208593">cJSON</a></p><p><a href="https://blog.csdn.net/Mculover666/article/details/103796256">最好详细教程</a></p>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WS2812 RGB</title>
      <link href="/uncategorized/2023/11/19/%E5%8D%95%E7%89%87%E6%9C%BA/WS2812-RGB/"/>
      <url>/uncategorized/2023/11/19/%E5%8D%95%E7%89%87%E6%9C%BA/WS2812-RGB/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><p>【WS2812可编程灯带入门教学】<a href="https://www.bilibili.com/video/BV1sN411z7do?vd_source=30491b32ea960f887e8dedd6d8fdf7ee">https://www.bilibili.com/video/BV1sN411z7do?vd_source=30491b32ea960f887e8dedd6d8fdf7ee</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>freertos实现微秒级延时</title>
      <link href="/uncategorized/2023/11/18/%E5%8D%95%E7%89%87%E6%9C%BA/freertos%E5%AE%9E%E7%8E%B0%E5%BE%AE%E7%A7%92%E7%BA%A7%E5%BB%B6%E6%97%B6/"/>
      <url>/uncategorized/2023/11/18/%E5%8D%95%E7%89%87%E6%9C%BA/freertos%E5%AE%9E%E7%8E%B0%E5%BE%AE%E7%A7%92%E7%BA%A7%E5%BB%B6%E6%97%B6/</url>
      
        <content type="html"><![CDATA[<p>关于滴答定时器，延时</p><span id="more"></span><h1 id="SysTick定时器"><a href="#SysTick定时器" class="headerlink" title="SysTick定时器"></a>SysTick定时器</h1><ul><li><p>其实很少有需求要用到微秒级别的</p></li><li><p>而且根本是实现不了的。。。</p></li></ul><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="MPU_Get_Gyroscope">RTOS实现微秒级延时</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP32IDF项目创建</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/11/17/%E5%8D%95%E7%89%87%E6%9C%BA/ESP32IDF%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/11/17/%E5%8D%95%E7%89%87%E6%9C%BA/ESP32IDF%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<p>ESP32IDF</p><span id="more"></span><h1 id="一、从例程中修改"><a href="#一、从例程中修改" class="headerlink" title="一、从例程中修改"></a>一、从例程中修改</h1><ol><li><p>找到官方例程，直接复制到项目文件夹</p></li><li><p>用Clion打开，配置好cmake<a href="https://po6rrz868u.feishu.cn/wiki/E0Gfwo8zbiTF3OkRmwYc5pVMn7b">环境变量</a></p></li><li><p>修改芯片型号</p><ol><li>在项目文件中，运行 export.ps1命令。这里需要注意的就是：powershell运行的是ps1脚本，cmd运行的是bat脚本</li><li><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311171639286.png" alt="image-20231117163948230"></li><li>运行完上面那条命令之后，运行 idf.py set-target esp32s3  修改芯片型号为s3</li></ol></li><li><p>完成以上步骤之后，可以刷新cmake，重新构建了。</p></li></ol><h1 id="二、从0开始创建"><a href="#二、从0开始创建" class="headerlink" title="二、从0开始创建"></a>二、从0开始创建</h1><h1 id="三、关于ESP32的编译、烧录和调试"><a href="#三、关于ESP32的编译、烧录和调试" class="headerlink" title="三、关于ESP32的编译、烧录和调试"></a>三、关于ESP32的编译、烧录和调试</h1><ul><li>编译使用 app 配置，点构建</li><li>烧录使用 flash 配置，直接点构建</li><li>关于调试，具体参考<a href="https://po6rrz868u.feishu.cn/wiki/Ruq9wWd1Yih1ARkfaracARMQnbh">飞书文档</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ESP32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>各传感器/模块资料</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/11/16/%E5%8D%95%E7%89%87%E6%9C%BA/%E5%90%84%E4%BC%A0%E6%84%9F%E5%99%A8-%E6%A8%A1%E5%9D%97%E8%B5%84%E6%96%99/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/11/16/%E5%8D%95%E7%89%87%E6%9C%BA/%E5%90%84%E4%BC%A0%E6%84%9F%E5%99%A8-%E6%A8%A1%E5%9D%97%E8%B5%84%E6%96%99/</url>
      
        <content type="html"><![CDATA[<p>Modules</p><span id="more"></span><h1 id="0-96寸IIC白色OLED"><a href="#0-96寸IIC白色OLED" class="headerlink" title="0.96寸IIC白色OLED"></a>0.96寸IIC白色OLED</h1><p><a href="https://www.yourcee.com/filedownload/534145">https://www.yourcee.com/filedownload/534145</a></p><ul><li><p>驱动芯片：SSD1306</p></li><li><p>通信协议：IIC</p></li></ul><h1 id="温湿度传感器AHT10"><a href="#温湿度传感器AHT10" class="headerlink" title="温湿度传感器AHT10"></a>温湿度传感器AHT10</h1><p><a href="https://www.yourcee.com/filedownload/534162">https://www.yourcee.com/filedownload/534162</a></p><ul><li>通信协议：IIC</li></ul><h1 id="MPU6050"><a href="#MPU6050" class="headerlink" title="MPU6050"></a>MPU6050</h1><p><a href="https://pan.baidu.com/s/13i-tKcd5sRXHljJCJOOfXg?pwd=NICE#list/path=%2F">https://pan.baidu.com/s/13i-tKcd5sRXHljJCJOOfXg?pwd=NICE#list/path=%2F</a></p><ul><li>通信协议：SPI&#x2F;IIC</li></ul><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://zhuanlan.zhihu.com/p/33773085">https://zhuanlan.zhihu.com/p/33773085</a></p>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> modules </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stm32时钟树</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/11/13/%E5%8D%95%E7%89%87%E6%9C%BA/stm32%E6%97%B6%E9%92%9F%E6%A0%91/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/11/13/%E5%8D%95%E7%89%87%E6%9C%BA/stm32%E6%97%B6%E9%92%9F%E6%A0%91/</url>
      
        <content type="html"><![CDATA[<p>stm32时钟树原理及其配置</p><span id="more"></span><h1 id="时钟树框图"><a href="#时钟树框图" class="headerlink" title="时钟树框图"></a>时钟树框图</h1><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311132057012.png" alt="image-20231113205747796"></p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311141938590.png" alt="image-20231114193841379"></p><h1 id="APB1挂载的外设"><a href="#APB1挂载的外设" class="headerlink" title="APB1挂载的外设"></a>APB1挂载的外设</h1><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311141948350.png" alt="image-20231114194819322"></p><h1 id="APB2挂载的外设"><a href="#APB2挂载的外设" class="headerlink" title="APB2挂载的外设"></a>APB2挂载的外设</h1><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311141948177.png" alt="image-20231114194857154"></p><h1 id="考资料"><a href="#考资料" class="headerlink" title="考资料"></a>考资料</h1><p>【【STM32入门教程-2023】第15集 超清晰STM32时钟树动画讲解】<a href="https://www.bilibili.com/video/BV1ph4y1e7Ey?vd_source=30491b32ea960f887e8dedd6d8fdf7ee">https://www.bilibili.com/video/BV1ph4y1e7Ey?vd_source=30491b32ea960f887e8dedd6d8fdf7ee</a></p><p>【看完这个3分多钟的视频，带你快速掌握STM32时钟树】<a href="https://www.bilibili.com/video/BV1eN41117dC?vd_source=30491b32ea960f887e8dedd6d8fdf7ee">https://www.bilibili.com/video/BV1eN41117dC?vd_source=30491b32ea960f887e8dedd6d8fdf7ee</a></p>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Clion打包Qt程序</title>
      <link href="/Qt/2023/10/28/Qt/Clion%E6%89%93%E5%8C%85Qt%E7%A8%8B%E5%BA%8F/"/>
      <url>/Qt/2023/10/28/Qt/Clion%E6%89%93%E5%8C%85Qt%E7%A8%8B%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<p>Clion简单打包Qt程序</p><span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Clion </tag>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>qcustomplot散点图</title>
      <link href="/Qt/2023/10/19/Qt/qcustomplot%E6%95%A3%E7%82%B9%E5%9B%BE/"/>
      <url>/Qt/2023/10/19/Qt/qcustomplot%E6%95%A3%E7%82%B9%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 只写了主要部分代码</span><br>QVector&lt;<span class="hljs-type">double</span>&gt; latVector, lonVector;<br>latVector &lt;&lt; <span class="hljs-number">-75</span> &lt;&lt; <span class="hljs-number">-50</span> &lt;&lt; <span class="hljs-number">-50</span> &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-number">50</span> &lt;&lt; <span class="hljs-number">100</span> &lt;&lt; <span class="hljs-number">75</span>;<br>lonVector &lt;&lt; <span class="hljs-number">-75</span> &lt;&lt; <span class="hljs-number">-50</span> &lt;&lt; <span class="hljs-number">-25</span> &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-number">25</span> &lt;&lt; <span class="hljs-number">50</span> &lt;&lt; <span class="hljs-number">75</span>;<br>curGraph-&gt;<span class="hljs-built_in">setLineStyle</span>(QCPGraph::lsNone);<br>curGraph-&gt;<span class="hljs-built_in">setScatterStyle</span>(<span class="hljs-built_in">QCPScatterStyle</span>(QCPScatterStyle::ssCircle, <span class="hljs-number">2</span>));<br>curGraph-&gt;<span class="hljs-built_in">setData</span>(latVector, lonVector);<br></code></pre></td></tr></table></figure><h2 id="QCPScatterStyle函数"><a href="#QCPScatterStyle函数" class="headerlink" title="QCPScatterStyle函数"></a><a href="https://www.qcustomplot.com/documentation/classQCPScatterStyle.html">QCPScatterStyle</a>函数</h2><p>线的形状</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202310191643878.png" alt="image-20231019164311830"></p><p>一秒一千行float</p>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qcustomplot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>23工训</title>
      <link href="/%E7%AB%9E%E8%B5%9B/2023/10/17/%E7%AB%9E%E8%B5%9B/23%E5%B7%A5%E8%AE%AD/"/>
      <url>/%E7%AB%9E%E8%B5%9B/2023/10/17/%E7%AB%9E%E8%B5%9B/23%E5%B7%A5%E8%AE%AD/</url>
      
        <content type="html"><![CDATA[<span id="more"></span>]]></content>
      
      
      <categories>
          
          <category> 竞赛 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工训 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>paddle</title>
      <link href="/Deep-learning/2023/10/16/deep%20learning/paddle/"/>
      <url>/Deep-learning/2023/10/16/deep%20learning/paddle/</url>
      
        <content type="html"><![CDATA[<p>基本是工训备赛过程中，使用到Paddle框架的例子</p><span id="more"></span><h1 id="Paddle安装"><a href="#Paddle安装" class="headerlink" title="Paddle安装"></a>Paddle安装</h1><ul><li><p><a href="https://paddledetection.readthedocs.io/index.html">官方手册</a></p></li><li><p><a href="https://paddleinference.paddlepaddle.org.cn/user_guides/download_lib.html#windows">离线安装链接</a></p></li><li><p><a href="https://github.com/PaddlePaddle">仓库</a></p></li></ul><h2 align=center style=color:yellow>记得安装cuda，还有cudnn，以及版本要对应上</h2><h1 id="PaddleYOLO使用方法"><a href="#PaddleYOLO使用方法" class="headerlink" title="PaddleYOLO使用方法"></a><a href="https://github.com/PaddlePaddle/PaddleYOLO">PaddleYOLO</a>使用方法</h1><h2 id="训练自己的数据集-官方教程"><a href="#训练自己的数据集-官方教程" class="headerlink" title="训练自己的数据集 官方教程"></a>训练自己的数据集 <a href="https://github.com/PaddlePaddle/PaddleYOLO/issues/43">官方教程</a></h2><h3 id="数据集标注"><a href="#数据集标注" class="headerlink" title="数据集标注"></a>数据集标注</h3><ul><li>看清楚模型训练的数据集格式以及对应的配置文件</li><li>VOC或者是COCO格式等等</li><li><a href="https://github.com/PaddlePaddle/PaddleDetection/blob/release/2.1/docs/tutorials/PrepareDataSet.md">准备</a></li></ul><p>标注软件：<a href="https://pypi.org/project/labelImg/1.4.0/">labelimg</a></p><h3 align=center style=color:yellow>修改对应的配置文件</h3><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202310171950453.png" alt="image-20231017195049381"></p><h3 id="配置文件-配置"><a href="#配置文件-配置" class="headerlink" title="配置文件 配置"></a>配置文件 <a href="https://github.com/PaddlePaddle/PaddleDetection/blob/release/2.1/docs/tutorials/config_annotation/ppyolo_r50vd_dcn_1x_coco_annotation.md">配置</a></h3><p><a href="https://blog.csdn.net/qq_44703886/article/details/118667944">相关文件</a></p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202310171947769.png" alt="image-20231017194747641"></p><h1 id="启动命令"><a href="#启动命令" class="headerlink" title="启动命令"></a>启动命令</h1><p>详细的命令参数去官网上看</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">训练</span><br>python tools/train.py -c configs/yolov3/yolov3_darknet53_270e_voc.yml --eval --use_vdl=true --vdl_log_dir=vdl_dir/garbage_tenth<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">Paddle继续训练，加个参数 -r</span><br>python tools/train.py -c configs/yolov3/yolov3_darknet53_270e_voc.yml --eval --use_vdl=true --vdl_log_dir=vdl_dir/garbage_tenth -r D:/19693/Desktop/DeepLearning/PaddleYOLO/output/10_12/29.pdparams<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">推理</span><br>python tools/infer.py -c configs/yolov3/yolov3_darknet53_270e_voc.yml --infer_img=&quot;D:/19693/Desktop/grabage_data/grabage_4cls_3/images/img1.jpg&quot; -o weights=&quot;D:/19693/Desktop/DeepLearning/PaddleYOLO/output/yolov3_darknet53_270e_voc/best_model.pdparams&quot;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">模型评估</span><br>python tools/eval.py -c configs/yolov3/yolov3_darknet53_270e_voc.yml -o weights=&quot;D:/19693/Desktop/DeepLearning/PaddleYOLO/output/100_yolov3_darknet53_270e_voc/model_final.pdparams&quot;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">可视化</span><br>visualdl --logdir vdl_dir/garbage_eigth<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">导出模型</span><br>python tools/export_model.py -c configs/yolov3/yolov3_darknet53_270e_voc.yml --output_dir=./inference_model/10_14 -o weights=&quot;D:/WebDownload/49.pdparams&quot;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment"># 部署检测 摄像头</span></span><br>python deploy/python/infer.py --model_dir=&quot;D:\19693\Desktop\DeepLearning\PaddleYOLO\inference_model\10_14\yolov3_darknet53_270e_voc&quot; --camera_id=1 --device=GPU<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">部署推理</span><br>python deploy/python/infer.py --model_dir=&quot;D:/19693/Desktop/DeepLearning/PaddleYOLO/inference_model/82.7_yolov3_darknet53_270e_voc&quot; --image_dir=&quot;D:/19693/Desktop/grabage_data/4_cls/valid&quot; --device=GPU --output_dir=output/valid<br><br></code></pre></td></tr></table></figure><h1 id="训练错误"><a href="#训练错误" class="headerlink" title="训练错误"></a>训练错误</h1><h3 id="CUDA-700"><a href="#CUDA-700" class="headerlink" title="CUDA[700]"></a>CUDA[700]</h3><blockquote><p>目前怀疑是版本装错了</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">OSError: (External) CUDA error(700), an illegal memory access was encountered.<br>  [Hint: Please search for the error code(700) on website (https://docs.nvidia.com/cuda/cuda-runtime-api/group__CUDART__TYPES.html#group__CUDART__TYPES_1g3f51e3575c2178246db0a94a430e0038) to get Nvidia&#x27;s official solution and advice about CUDA Error.] (at ../paddle/phi/backends/gpu/cuda/cuda_info.cc:259)<br></code></pre></td></tr></table></figure><h3 id="opencv-错误"><a href="#opencv-错误" class="headerlink" title="opencv 错误"></a>opencv 错误</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell">[09/15 08:14:44] reader WARNING: fail to map batch transform [BatchRandomResize_cf5b10] with error: OpenCV(4.5.5) :-1: error: (-5:Bad argument) in function &#x27;resize&#x27;<br><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">Overload resolution failed:</span><br><span class="hljs-meta prompt_">&gt; </span><span class="language-bash"> - Conversion error: src</span><br><span class="hljs-meta prompt_">&gt; </span><span class="language-bash"> - Expected Ptr&lt;cv::UMat&gt; <span class="hljs-keyword">for</span> argument <span class="hljs-string">&#x27;src&#x27;</span></span><br> and stack:<br>Traceback (most recent call last):<br>  File &quot;D:\19693\Desktop\DeepLearning\PaddleYOLO\ppdet\data\reader.py&quot;, line 78, in __call__<br>    data = f(data)<br>  File &quot;D:\19693\Desktop\DeepLearning\PaddleYOLO\ppdet\data\transform\batch_operators.py&quot;, line 155, in __call__<br>    return resizer(samples, context=context)<br>  File &quot;D:\19693\Desktop\DeepLearning\PaddleYOLO\ppdet\data\transform\operators.py&quot;, line 102, in __call__<br>    sample[i] = self.apply(sample[i], context)<br>  File &quot;D:\19693\Desktop\DeepLearning\PaddleYOLO\ppdet\data\transform\operators.py&quot;, line 1298, in apply<br>    im = self.apply_image(sample[&#x27;image&#x27;], [im_scale_x, im_scale_y])<br>  File &quot;D:\19693\Desktop\DeepLearning\PaddleYOLO\ppdet\data\transform\operators.py&quot;, line 1195, in apply_image<br>    return cv2.resize(<br>cv2.error: OpenCV(4.5.5) :-1: error: (-5:Bad argument) in function &#x27;resize&#x27;<br><span class="hljs-meta prompt_">&gt; </span><span class="language-bash">Overload resolution failed:</span><br><span class="hljs-meta prompt_">&gt; </span><span class="language-bash"> - Conversion error: src</span><br><span class="hljs-meta prompt_">&gt; </span><span class="language-bash"> - Expected Ptr&lt;cv::UMat&gt; <span class="hljs-keyword">for</span> argument <span class="hljs-string">&#x27;src&#x27;</span></span><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> deep learning </tag>
            
            <tag> 工训 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>大一总结</title>
      <link href="/uncategorized/2023/08/20/%E6%80%BB%E7%BB%93%E4%B8%8E%E6%84%9F%E6%82%9F/%E5%A4%A7%E4%B8%80%E6%80%BB%E7%BB%93/"/>
      <url>/uncategorized/2023/08/20/%E6%80%BB%E7%BB%93%E4%B8%8E%E6%84%9F%E6%82%9F/%E5%A4%A7%E4%B8%80%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>拖</p><span id="more"></span>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Clion编译Qt程序带图标</title>
      <link href="/Qt/2023/08/10/Qt/Clion%E7%BC%96%E8%AF%91Qt%E7%A8%8B%E5%BA%8F%E5%B8%A6%E5%9B%BE%E6%A0%87/"/>
      <url>/Qt/2023/08/10/Qt/Clion%E7%BC%96%E8%AF%91Qt%E7%A8%8B%E5%BA%8F%E5%B8%A6%E5%9B%BE%E6%A0%87/</url>
      
        <content type="html"><![CDATA[<p>编译出来的程序有图标喔</p><span id="more"></span><p>在项目的路径下创建一个*.rc* 文件，写上以下内容，其实我觉得有图标信息就行了，其它应该不需要的</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++">IDI_ICON1 ICON DISCARDABLE <span class="hljs-string">&quot;F:\\Desktop\\Smart_ Interactive _Assistant\\openplugin\\Server\\cat.ico&quot;</span><br></code></pre></td></tr></table></figure><h3 id="编译此文件"><a href="#编译此文件" class="headerlink" title="编译此文件"></a>编译此文件</h3><blockquote><p>我觉得最关键的就是编译这个文件，之前失败有可能就是这样</p></blockquote><p>在项目主目录打开终端，运行命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">windres -i &quot;ico.rc&quot; -o &quot;ico.o&quot;<br></code></pre></td></tr></table></figure><p>如果找不到windres的话，可以去mingw那里看看，自带有的。</p><p>最重要的就是.o文件，类似于后面要链接的吧。</p><p>然后在add_executable那里添加上ico.o文件就行了，这样就会把图标和信息添加到exe中。</p>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Clion </tag>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pytorch入门</title>
      <link href="/Deep-learning/2023/08/07/deep%20learning/pytroch%E5%85%A5%E9%97%A8/"/>
      <url>/Deep-learning/2023/08/07/deep%20learning/pytroch%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<p>Pytorch相关操作</p><span id="more"></span><blockquote><p>官方教程阅读遇到的问题</p></blockquote><h2 id="基本数据操作"><a href="#基本数据操作" class="headerlink" title="基本数据操作"></a>基本数据操作</h2><h3 id="构建矩阵"><a href="#构建矩阵" class="headerlink" title="构建矩阵"></a>构建矩阵</h3><h2 id="神经网络"><a href="#神经网络" class="headerlink" title="神经网络"></a>神经网络</h2><h3 id="相关的CLASS"><a href="#相关的CLASS" class="headerlink" title="相关的CLASS"></a>相关的CLASS</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">torch.nn.MaxPool2d(kernel_size, stride=<span class="hljs-literal">None</span>, padding=<span class="hljs-number">0</span>, dilation=<span class="hljs-number">1</span>, return_indices=<span class="hljs-literal">False</span>, ceil_mode=<span class="hljs-literal">False</span>)<br><br>torch.nn.Conv2d(in_channels, out_channels, kernel_size, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">0</span>, dilation=<span class="hljs-number">1</span>, groups=<span class="hljs-number">1</span>, bias=<span class="hljs-literal">True</span>, padding_mode=<span class="hljs-string">&#x27;zeros&#x27;</span>, device=<span class="hljs-literal">None</span>, dtype=<span class="hljs-literal">None</span>)<br><br>torch.nn.Linear(in_features, out_features, bias=<span class="hljs-literal">True</span>, device=<span class="hljs-literal">None</span>, dtype=<span class="hljs-literal">None</span>)<br><br><br></code></pre></td></tr></table></figure><h3 id="更新神经网络参数"><a href="#更新神经网络参数" class="headerlink" title="更新神经网络参数"></a>更新神经网络参数</h3><ol><li>更新规则</li></ol><p>​类似于 SGD, Nesterov-SGD, Adam, RMSProp, 等。为了让这可行，我们建立了一个小包：torch.optim 实现了所有的方法。使用它非常 的简单。</p><h3 id="questions"><a href="#questions" class="headerlink" title="questions"></a>questions</h3><ul><li>每个类的参数要记住</li><li>linear可不可以直接就回归到10</li><li>各个参数的设立是不是有什么联系</li><li></li></ul><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202308071627376.png" alt="image-20230807162709234"></p><ul><li>这是什么，不是很理解</li></ul><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202308071649727.png" alt="image-20230807164914675"></p><ul><li><p>梯度，这个在搞什么飞机</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202308081445297.png" alt="image-20230808144504186"></p></li><li><p>雅可比向量积是什么</p></li></ul><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202308081449085.png" alt="image-20230808144923023"></p>]]></content>
      
      
      <categories>
          
          <category> Deep learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> deep learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pytorch基础</title>
      <link href="/Deep-learning/2023/08/07/deep%20learning/pytorch%E5%9F%BA%E7%A1%80/"/>
      <url>/Deep-learning/2023/08/07/deep%20learning/pytorch%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<p>定义一个模型</p><span id="more"></span><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202308081515948.png" alt="image-20230808151532902"></p><h1 id="定义神经网络"><a href="#定义神经网络" class="headerlink" title="定义神经网络"></a>定义神经网络</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> torch.nn.functional <span class="hljs-keyword">as</span> F<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Net</span>(nn.Module):<br> <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>     <span class="hljs-built_in">super</span>(Net, self).__init__()<br>     <span class="hljs-comment"># 1 input image channel, 6 output channels, 5x5 square convolution</span><br>     <span class="hljs-comment"># kernel</span><br>     self.conv1 = nn.Conv2d(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>)<br>     self.conv2 = nn.Conv2d(<span class="hljs-number">6</span>, <span class="hljs-number">16</span>, <span class="hljs-number">5</span>)<br>     <span class="hljs-comment"># an affine operation: y = Wx + b</span><br>     self.fc1 = nn.Linear(<span class="hljs-number">16</span> * <span class="hljs-number">5</span> * <span class="hljs-number">5</span>, <span class="hljs-number">120</span>)<br>     self.fc2 = nn.Linear(<span class="hljs-number">120</span>, <span class="hljs-number">84</span>)<br>     self.fc3 = nn.Linear(<span class="hljs-number">84</span>, <span class="hljs-number">10</span>)<br> <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>     <span class="hljs-comment"># Max pooling over a (2, 2) window</span><br>     x = F.max_pool2d(F.relu(self.conv1(x)), (<span class="hljs-number">2</span>, <span class="hljs-number">2</span>))<br>     <span class="hljs-comment"># If the size is a square you can only specify a single number</span><br>     x = F.max_pool2d(F.relu(self.conv2(x)), <span class="hljs-number">2</span>)<br>     x = x.view(-<span class="hljs-number">1</span>, self.num_flat_features(x))<br>     x = F.relu(self.fc1(x))<br>     x = F.relu(self.fc2(x))<br>     x = self.fc3(x)<br>     <span class="hljs-keyword">return</span> x<br> <span class="hljs-keyword">def</span> <span class="hljs-title function_">num_flat_features</span>(<span class="hljs-params">self, x</span>):<br>     size = x.size()[<span class="hljs-number">1</span>:] <span class="hljs-comment"># all dimensions except the batch dimension</span><br>     num_features = <span class="hljs-number">1</span><br>     <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> size:<br>     num_features *= s<br>     <span class="hljs-keyword">return</span> num_features<br>net = Net()<br><span class="hljs-built_in">print</span>(net)<br></code></pre></td></tr></table></figure><h1 id="数据处理和计算"><a href="#数据处理和计算" class="headerlink" title="数据处理和计算"></a>数据处理和计算</h1><h3 id="创建矩阵"><a href="#创建矩阵" class="headerlink" title="创建矩阵"></a>创建矩阵</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">x = torch.empty(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>)<span class="hljs-comment"># 构造5x3的矩阵，不初始化</span><br>x = torch.rand(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>)<span class="hljs-comment"># 随机初始化</span><br>x = torch.zeros(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, dtype=torch.long)<span class="hljs-comment"># 数据全为0，数据结构为long</span><br>x = torch.tensor([<span class="hljs-number">5.5</span>, <span class="hljs-number">3</span>])<span class="hljs-comment"># 构造张量，直接用数据</span><br>x = torch.randn_like(x, dtype=torch.<span class="hljs-built_in">float</span>)<span class="hljs-comment"># 构建一个基于x tensor的tensor</span><br>x.size()<span class="hljs-comment"># 查看维度</span><br></code></pre></td></tr></table></figure><h3 id="加法"><a href="#加法" class="headerlink" title="加法"></a>加法</h3><ul><li><p>直接使用**+**号</p></li><li><p>&#96;&#96;&#96;python<br>torch.add(x, y)<br>torch.add(x, y, out&#x3D;result)</p><h1 id="adds-x-to-y，类比使张量发生变化的操作都有前缀"><a href="#adds-x-to-y，类比使张量发生变化的操作都有前缀" class="headerlink" title="adds x to y，类比使张量发生变化的操作都有前缀"></a>adds x to y，类比使张量发生变化的操作都有前缀</h1><p>y.add_(x)</p><h1 id="改变tensor大小或形状"><a href="#改变tensor大小或形状" class="headerlink" title="改变tensor大小或形状"></a>改变tensor大小或形状</h1><p>y &#x3D; x.view(16)<br>z &#x3D; x.view(-1, 8) # the size -1 is inferred from other dimensions(自判)<br>x.item()# 获取tensor的value</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs clean"><br><br><br>### 自动微分<br><br>&gt; 首先要开启跟踪，才可以跟踪计算，最后再调用backward()计算梯度。<br><br>```python<br># 创建一个张量，跟踪计算<br>x = torch.ones(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, requires_grad=<span class="hljs-literal">True</span>)<br># 向后传播<br>out.backward() or out.backward(torch.tensor(<span class="hljs-number">1.</span>))<br># 停止跟踪<br><span class="hljs-keyword">with</span> torch.no_grad()<br><br></code></pre></td></tr></table></figure></li></ul><h3 id="前向传播"><a href="#前向传播" class="headerlink" title="前向传播"></a>前向传播</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>     <span class="hljs-comment"># Max pooling over a (2, 2) window</span><br>     x = F.max_pool2d(F.relu(self.conv1(x)), (<span class="hljs-number">2</span>, <span class="hljs-number">2</span>))<br>     <span class="hljs-comment"># If the size is a square you can only specify a single number</span><br>     x = F.max_pool2d(F.relu(self.conv2(x)), <span class="hljs-number">2</span>)<br>     x = x.view(-<span class="hljs-number">1</span>, self.num_flat_features(x))<br>     x = F.relu(self.fc1(x))<br>     x = F.relu(self.fc2(x))<br>     x = self.fc3(x)<br>     <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h3 id="返模型参数"><a href="#返模型参数" class="headerlink" title="返模型参数"></a>返模型参数</h3><p>net.parameters()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">params = <span class="hljs-built_in">list</span>(net.parameters())<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(params))<br><span class="hljs-built_in">print</span>(params[<span class="hljs-number">0</span>].size()) <span class="hljs-comment"># conv1&#x27;s .weight</span><br></code></pre></td></tr></table></figure><h3 id="随机梯度反向传播"><a href="#随机梯度反向传播" class="headerlink" title="随机梯度反向传播"></a>随机梯度反向传播</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 将梯度缓存置零</span><br>net.zero_grad()<br>out.backward(torch.randn(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>))<br><span class="hljs-comment"># 反向传播损失</span><br>loss.backward()<br></code></pre></td></tr></table></figure><h3 id="更新网络参数"><a href="#更新网络参数" class="headerlink" title="更新网络参数"></a>更新网络参数</h3><ol><li>随机梯度下降</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">weight = weight - learning_rate * gradient<br><span class="hljs-comment"># python实现</span><br>learning_rate = <span class="hljs-number">0.01</span><br><span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> net.parameters():<br> f.data.sub_(f.grad.data * learning_rate)<br><br><span class="hljs-comment"># pytorch实现</span><br><span class="hljs-keyword">import</span> torch.optim <span class="hljs-keyword">as</span> optim<br><span class="hljs-comment"># create your optimizer</span><br>optimizer = optim.SGD(net.parameters(), lr=<span class="hljs-number">0.01</span>)<br><span class="hljs-comment"># in your training loop:</span><br>optimizer.zero_grad() <span class="hljs-comment"># zero the gradient buffers</span><br>output = net(<span class="hljs-built_in">input</span>)<br>loss = criterion(output, target)<br>loss.backward()<br>optimizer.step() <span class="hljs-comment"># Does the update</span><br></code></pre></td></tr></table></figure><h3 id="显示图像"><a href="#显示图像" class="headerlink" title="显示图像"></a>显示图像</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-comment"># functions to show an image</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">imshow</span>(<span class="hljs-params">img</span>):<br>    img = img / <span class="hljs-number">2</span> + <span class="hljs-number">0.5</span> <span class="hljs-comment"># unnormalize</span><br>    npimg = img.numpy()<br>    plt.imshow(np.transpose(npimg, (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>)))<br>    plt.show()<br>    <span class="hljs-comment"># get some random training images</span><br>    dataiter = <span class="hljs-built_in">iter</span>(trainloader)<br>    images, labels = dataiter.<span class="hljs-built_in">next</span>()<br>    <span class="hljs-comment"># show images</span><br>    imshow(torchvision.utils.make_grid(images))<br></code></pre></td></tr></table></figure><h1 id="数据预处理"><a href="#数据预处理" class="headerlink" title="数据预处理"></a>数据预处理</h1><p>不同的数据类型用不同的方法</p><ul><li>对于图像，可以用 Pillow，OpenCV <ul><li>对于视觉，有torchvision包</li></ul></li><li>对于语音，可以用 scipy，librosa </li><li>对于文本，可以直接用 Python 或 Cython 基础数据加载模块，或者用 NLTK 和 SpaCy</li></ul><h3 id="数据加载和归一化处理"><a href="#数据加载和归一化处理" class="headerlink" title="数据加载和归一化处理"></a>数据加载和归一化处理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">transform = transforms.Compose(<br> [transforms.ToTensor(), transforms.Normalize((<span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>), (<span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.5</span>))])<br><br>trainset = torchvision.datasets.CIFAR10(root=<span class="hljs-string">&#x27;./data&#x27;</span>, train=<span class="hljs-literal">True</span>,<br> download=<span class="hljs-literal">True</span>, transform=transform)<br><br>trainloader = torch.utils.data.DataLoader(trainset, batch_size=<span class="hljs-number">4</span>,<br> shuffle=<span class="hljs-literal">True</span>, num_workers=<span class="hljs-number">2</span>)<br><br>testset = torchvision.datasets.CIFAR10(root=<span class="hljs-string">&#x27;./data&#x27;</span>, train=<span class="hljs-literal">False</span>,<br> download=<span class="hljs-literal">True</span>, transform=transform)<br><br>testloader = torch.utils.data.DataLoader(testset, batch_size=<span class="hljs-number">4</span>,<br> shuffle=<span class="hljs-literal">False</span>, num_workers=<span class="hljs-number">2</span>)<br><br>classes = (<span class="hljs-string">&#x27;plane&#x27;</span>, <span class="hljs-string">&#x27;car&#x27;</span>, <span class="hljs-string">&#x27;bird&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>,<br> <span class="hljs-string">&#x27;deer&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;frog&#x27;</span>, <span class="hljs-string">&#x27;horse&#x27;</span>, <span class="hljs-string">&#x27;ship&#x27;</span>, <span class="hljs-string">&#x27;truck&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="模型定义"><a href="#模型定义" class="headerlink" title="模型定义"></a>模型定义</h1><h1 id="LOSS定义"><a href="#LOSS定义" class="headerlink" title="LOSS定义"></a>LOSS定义</h1><h3 id="计算均方误差"><a href="#计算均方误差" class="headerlink" title="计算均方误差"></a>计算均方误差</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">criterion = nn.MSELoss()<br>loss = criterion(output, target)<br></code></pre></td></tr></table></figure><h1 id="模型训练"><a href="#模型训练" class="headerlink" title="模型训练"></a>模型训练</h1><h3 id="创建一个图像分类器步骤："><a href="#创建一个图像分类器步骤：" class="headerlink" title="创建一个图像分类器步骤："></a>创建一个图像分类器步骤：</h3><ol><li>使用torchvision加载并且归一化CIFAR10的训练和测试数据集</li><li>定义一个卷积神经网络</li><li>定义一个损失函数</li><li>在训练样本数据上训练网络</li><li>在测试样本数据上测试网络</li></ol><h3 id="卷积神经网络"><a href="#卷积神经网络" class="headerlink" title="卷积神经网络"></a>卷积神经网络</h3><p>3通道的</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> torch.nn.functional <span class="hljs-keyword">as</span> F<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Net</span>(nn.Module):<br> <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>     <span class="hljs-built_in">super</span>(Net, self).__init__()<br>     self.conv1 = nn.Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>)<br>     self.pool = nn.MaxPool2d(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br>     self.conv2 = nn.Conv2d(<span class="hljs-number">6</span>, <span class="hljs-number">16</span>, <span class="hljs-number">5</span>)<br>     self.fc1 = nn.Linear(<span class="hljs-number">16</span> * <span class="hljs-number">5</span> * <span class="hljs-number">5</span>, <span class="hljs-number">120</span>)<br>     self.fc2 = nn.Linear(<span class="hljs-number">120</span>, <span class="hljs-number">84</span>)<br>     self.fc3 = nn.Linear(<span class="hljs-number">84</span>, <span class="hljs-number">10</span>)<br> <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>     x = self.pool(F.relu(self.conv1(x)))<br>     x = self.pool(F.relu(self.conv2(x)))<br>     x = x.view(-<span class="hljs-number">1</span>, <span class="hljs-number">16</span> * <span class="hljs-number">5</span> * <span class="hljs-number">5</span>)<br>     x = F.relu(self.fc1(x))<br>     x = F.relu(self.fc2(x))<br>     x = self.fc3(x)<br>     <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h3 id="定义损失函数和优化器"><a href="#定义损失函数和优化器" class="headerlink" title="定义损失函数和优化器"></a>定义损失函数和优化器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch.optim <span class="hljs-keyword">as</span> optim<br>criterion = nn.CrossEntropyLoss()<br>optimizer = optim.SGD(net.parameters(), lr=<span class="hljs-number">0.001</span>, momentum=<span class="hljs-number">0.9</span>)<br></code></pre></td></tr></table></figure><h3 id="定义迭代循环"><a href="#定义迭代循环" class="headerlink" title="定义迭代循环"></a>定义迭代循环</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> epoch <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>): <span class="hljs-comment"># loop over the dataset multiple times</span><br>     running_loss = <span class="hljs-number">0.0</span><br>     <span class="hljs-keyword">for</span> i, data <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(trainloader, <span class="hljs-number">0</span>):<br>     <span class="hljs-comment"># get the inputs</span><br>     inputs, labels = data<br>     <span class="hljs-comment"># zero the parameter gradients</span><br>     optimizer.zero_grad()<br>     <span class="hljs-comment"># forward + backward + optimize</span><br>     outputs = net(inputs)<br>     loss = criterion(outputs, labels)<br>     loss.backward()<br>     optimizer.step()<br>     <span class="hljs-comment"># print statistics</span><br>     running_loss += loss.item()<br>     <span class="hljs-keyword">if</span> i % <span class="hljs-number">2000</span> == <span class="hljs-number">1999</span>: <span class="hljs-comment"># print every 2000 mini-batches</span><br>     <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;[%d, %5d] loss: %.3f&#x27;</span> %<br>     (epoch + <span class="hljs-number">1</span>, i + <span class="hljs-number">1</span>, running_loss / <span class="hljs-number">2000</span>))<br>     running_loss = <span class="hljs-number">0.0</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Finished Training&#x27;</span>)<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> deep learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>相关算法</title>
      <link href="/Deep-learning/2023/08/07/deep%20learning/%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95/"/>
      <url>/Deep-learning/2023/08/07/deep%20learning/%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h2 id="动量SGD"><a href="#动量SGD" class="headerlink" title="动量SGD"></a>动量SGD</h2>]]></content>
      
      
      <categories>
          
          <category> Deep learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> deep learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FFT资料</title>
      <link href="/%E7%AB%9E%E8%B5%9B/2023/08/07/%E7%AB%9E%E8%B5%9B/FFT%E8%B5%84%E6%96%99/"/>
      <url>/%E7%AB%9E%E8%B5%9B/2023/08/07/%E7%AB%9E%E8%B5%9B/FFT%E8%B5%84%E6%96%99/</url>
      
        <content type="html"><![CDATA[<p>资料</p><span id="more"></span><p><a href="https://blog.csdn.net/qq_42628795/article/details/95314989">基于STM32的FFT频谱分析+波形识别_stm32 绘制不同波形的频谱__鑫鑫鑫_的博客-CSDN博客</a></p><p><a href="https://www.cnblogs.com/liqiqi/p/14665058.html">几种比较经典的波形及其FFT变换（正弦波，三角波，方波和锯齿波） - 北纬三十度夏至 - 博客园 </a></p><p><a href="https://blog.csdn.net/XM_no_homework/article/details/90154929">时域转频域图</a></p><p><a href="https://blog.csdn.net/qq_34022877/article/details/123190943#comments_27638042">频谱分析</a></p><p><a href="https://www.cnblogs.com/jamesjiang/p/8986632.html">FIR滤波</a></p>]]></content>
      
      
      <categories>
          
          <category> 竞赛 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 国电 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>23国电总结</title>
      <link href="/%E6%AF%94%E8%B5%9B/2023/08/07/%E7%AB%9E%E8%B5%9B/23%E5%9B%BD%E7%94%B5%E6%80%BB%E7%BB%93/"/>
      <url>/%E6%AF%94%E8%B5%9B/2023/08/07/%E7%AB%9E%E8%B5%9B/23%E5%9B%BD%E7%94%B5%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>国电四天三夜总结</p><span id="more"></span><h1 id="第一天"><a href="#第一天" class="headerlink" title="第一天"></a>第一天</h1><h3 id="FFT分析"><a href="#FFT分析" class="headerlink" title="FFT分析"></a>FFT分析</h3><h4 id="100K-50K，1V-1V情况"><a href="#100K-50K，1V-1V情况" class="headerlink" title="100K+50K，1V+1V情况"></a>100K+50K，1V+1V情况</h4><p>对于频谱图来说，FFT分析出来，低频的幅值较大，高频的幅值较小</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202308021006326.png" alt="image-20230802100659233"></p><h4 id="100K-50K，2V-1V情况"><a href="#100K-50K，2V-1V情况" class="headerlink" title="100K+50K，2V+1V情况"></a>100K+50K，2V+1V情况</h4><p>对于频谱图来说，当把高频的信号的幅值扩大，得出来的频谱图，高频的幅值会大一点。</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202308021010737.png" alt="image-20230802101056703"></p><h4 id="实际测试中还出现的问题"><a href="#实际测试中还出现的问题" class="headerlink" title="实际测试中还出现的问题"></a>实际测试中还出现的问题</h4><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202308021435081.png" alt="image-20230802143530997"></p><p>其实也不是什么大问题，就是在后面加判断就行了，我只需要找出两个频率。</p><h3 id="分析出三角波"><a href="#分析出三角波" class="headerlink" title="分析出三角波"></a>分析出三角波</h3><p>。。。很难分析出来</p><h3 id="第一天总结"><a href="#第一天总结" class="headerlink" title="第一天总结"></a>第一天总结</h3><p>两个小时确认选题，认为这道题很简单，我们已经准备得差不多了，但是只有一个难点，因为一开始审错了题，下午问老师才发。所以等到下午想到的时候，模块已经被买完了，其实也不止一个模块就能搞定。要做到不漂移，真的很难，误差小于0.001HZ才能做到。目前两种思路：</p><ul><li>第一种：从原信号中直接滤出来，这样的效果是最好，最真实的，因为都是同一个信号</li><li>第二种：类比闭环控制原理，实现闭环调节，这样让一个新产生的信号无限接近原始信号。</li></ul><h1 id="第二天"><a href="#第二天" class="headerlink" title="第二天"></a>第二天</h1><h3 id="确认方案，负反馈"><a href="#确认方案，负反馈" class="headerlink" title="确认方案，负反馈"></a>确认方案，负反馈</h3><p>中午确认方案，开始制作。采用方案二，与从原信号中获取反馈相，把信号源输出当作是零误差，采用FFT计算出来然后取整，使得</p><p>目前思路：</p><pre><code class=" mermaid">graph TB混合信号--&gt;加法器--&gt;FFT--&gt;分析出频率--&gt;A(驱动DDS输出)--&gt;过零比较器--&gt;输入捕获测出频率--&gt;PID--&gt;A</code></pre><p>测的过程中，发现DDS精度不够，最小分度值只能设1HZ，所以就算是经过了PID，也是实现不了，最终放弃方案。</p><p>最后发现，直接用DDS其实误差也不是很大，还算看得过去，就这样吧。</p><h3 id="另一种分离信号方式"><a href="#另一种分离信号方式" class="headerlink" title="另一种分离信号方式"></a>另一种分离信号方式</h3><blockquote><p>除了FFT之外的信号分离方法</p></blockquote><p>当分度值为10KHZ的时候，且B&gt;A，可以将各种混合信号通过过零比较器，算出最终的频率或者占空比，用枚举的方法来判断是哪种情况（这样的前提是，两两混合没有情况一样的时候）</p><h3 id="第二天总结"><a href="#第二天总结" class="headerlink" title="第二天总结"></a>第二天总结</h3><ul><li>因为DDS的精度不够准确，就算反馈回来算出来差了0.1HZ根本调不了</li><li>最后只能用最原始的方案了，误差大就大吧</li><li>到了晚上，软件已经写好，可以正常调试了。接下来等硬件队友搭电路</li></ul><h1 id="第三天"><a href="#第三天" class="headerlink" title="第三天"></a>第三天</h1><p><a href="https://blog.csdn.net/Fraay/article/details/108687441">电赛准备DDS &amp; AD9910模块数据手册、使用方法详解_ad9910控制profile1</a></p><ul><li>软件部分测试的代码基本没有问题</li><li>等待硬件电路搭出来</li></ul><p>移植串口屏的时候，忘记了串口屏的波特率是9600，想了半天，真的服了。</p><p>接下来基本已经确定是按照一开始的方法去做，误差大就大吧。</p><h3 id="作品完成度"><a href="#作品完成度" class="headerlink" title="作品完成度"></a>作品完成度</h3><p>硬件队友对于第二个基本要求，做出了硬件方案，对于50KHZ和100KHZ的信号，采用硬件滤波的方式，过滤出了，并且做到了完全不漂移。</p><p>在晚上第一次上电，软件部分已经完全写完。并且开始调试，一切正常。接下来，我们还是不满意，想冲以下发挥部分，做到识别出三角波。然后从直接通宵到了第四天。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>​就是感觉一开始就实现不了，所以就没有开始分析三角波，太过于相信自己的实力，以及对问题理解不清晰，所以一直拖。等到队友能实现的时候，再去做三角波分析，已经来不及了。</p><h1 id="第四天"><a href="#第四天" class="headerlink" title="第四天"></a>第四天</h1><p>​从第三天一直通宵到第四天早上，还是没能分析出三角波。一直找不出对应关系，网上说的，师兄说的方法，都不能实现。到了早上的时候，发现频谱还溢出了，根本看不了三次谐波。</p><p>​赛后师兄说了一个方法，只要二次采集就能分析出三次谐波，但理论上好像也是不太行。这就不知道了。</p><p>如果一开始就在分析三角波的路上，而不是去搞其它的，无聊到去焊LED灯，也许有可能做得出来。</p><p>​最后下午，队友已经把作品给固定好，全部再调试一遍。出现了很多奇奇怪怪的问题，比如说<strong>没上电</strong>还怀疑是我软件问题，DDS没有输出，也是怀疑我软件问题，结果还是<strong>没上电</strong>，真是醉了。最后就是把发挥部分的分析分度值为5KHZ的要求写上去了。</p><p>​</p><h1 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h1><p>​总是很相信自己的实力，以为很快就能实现，所以一直都没去做。到了最后面，发现很多问题，都是实现不了的，就很难搞。还有报告书，也应该一开始就搞的，到了第四天下午开始搞，一堆问题，什么都错，甚至连打印都差点没时间了。</p><p>​就这样吧，大一抱着学习的心态去打比赛，最后一场也打完了。感觉学到了很多，又好像什么都没学到。主要是备赛阶段学到很多，比赛过程主要是暴露问题，还有想方案，最后就是发现问题和解决问题的能力。</p><ul><li>比赛过程中的任务分配问题，还有时间规划问题。</li><li>仪表信号题主要就是对信号的分析<ul><li>最基础的ADC，DAC</li><li>定时器输入捕获</li><li>FFT计算</li><li>频率、幅度、相位差</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 比赛 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 国电 </tag>
            
            <tag> 总结 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>yolov5踩坑之旅</title>
      <link href="/Deep-learning/2023/07/21/deep%20learning/yolov5%E8%B8%A9%E5%9D%91%E4%B9%8B%E6%97%85/"/>
      <url>/Deep-learning/2023/07/21/deep%20learning/yolov5%E8%B8%A9%E5%9D%91%E4%B9%8B%E6%97%85/</url>
      
        <content type="html"><![CDATA[<p>在别的地方没搬运过来 </p><span id="more"></span><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h1 id="使用教程"><a href="#使用教程" class="headerlink" title="使用教程"></a>使用教程</h1><h1 id="遇到的坑"><a href="#遇到的坑" class="headerlink" title="遇到的坑"></a>遇到的坑</h1><p>gpu训练0.044hours</p><p>cup训练0.381</p>]]></content>
      
      
      <categories>
          
          <category> Deep learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> yolo </tag>
            
            <tag> 视觉 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stm32之ADC+DMA</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/07/18/%E5%8D%95%E7%89%87%E6%9C%BA/stm32%E4%B9%8BADC-DMA/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/07/18/%E5%8D%95%E7%89%87%E6%9C%BA/stm32%E4%B9%8BADC-DMA/</url>
      
        <content type="html"><![CDATA[<p>ADC 介绍、使用</p><span id="more"></span><h1 id="ADC介绍"><a href="#ADC介绍" class="headerlink" title="ADC介绍"></a>ADC介绍</h1><h1 id="相关参数计算"><a href="#相关参数计算" class="headerlink" title="相关参数计算"></a>相关参数计算</h1><h1 id="ADC-DMA"><a href="#ADC-DMA" class="headerlink" title="ADC+DMA"></a>ADC+DMA</h1><h2 id="cubemx配置"><a href="#cubemx配置" class="headerlink" title="cubemx配置"></a>cubemx配置</h2><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202307181644326.png" alt="image-20230718164408198"></p><p>Scan conversion mode  扫描转换模式</p><p>Continuous Conversion Mode  连续转换模式</p><p>DMA  Continuous Requests  DMA  连续请求</p><h1 id="ADC-DMA-TIM"><a href="#ADC-DMA-TIM" class="headerlink" title="ADC+DMA+TIM"></a>ADC+DMA+TIM</h1><ul><li>采样率可控</li></ul><h2 id="采样率计算"><a href="#采样率计算" class="headerlink" title="采样率计算"></a>采样率计算</h2><blockquote><p>定时器时钟周期&#x2F;PSC+ARR</p></blockquote><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ol><li><p>ADC配置<br>选择定时器触发事件</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202309160047297.png" alt="image-20230916004739196"></p></li><li><p>TIM配置<br>定时器配置，选择更新事件</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202309160049381.png" alt="image-20230916004930326"></p></li><li><p>代码编写部分</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// while里面</span><br>HAL_ADC_Start(&amp;hadc1);<br>HAL_ADC_Start_DMA(&amp;hadc1, (<span class="hljs-type">uint32_t</span> *) adc_buffer, LENGTH);<br>HAL_TIM_Base_Start(&amp;htim3);<br><span class="hljs-keyword">while</span> (!dma_end);<br>dma_end = <span class="hljs-number">0</span>;<br>HAL_ADC_Stop(&amp;hadc1);<br><br><span class="hljs-comment">// 中断文件里面</span><br><span class="hljs-comment">// 放在 void DMA2_Stream0_IRQHandler(void) 这个里面</span><br><span class="hljs-keyword">if</span> (__HAL_DMA_GET_IT_SOURCE(&amp;hdma_adc1, DMA_IT_TC) == RESET) &#123;<br>    dma_end = <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://aijishu.com/a/1060000000312731#item-1">ADC++TIM+DMA</a></p><p><a href="https://blog.csdn.net/dongxiaodongvip/article/details/114498855">ADC</a></p><p><a href="https://blog.csdn.net/black0591/article/details/103187450">ADC相关计算</a></p><p><a href="%5Bstm32%E7%9A%84TIM%E5%AE%9A%E6%97%B6%E5%99%A8HAL%E5%BA%93%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8_hal_tim_base_start_mg_hover%E7%9A%84%E5%8D%9A%E5%AE%A2-CSDN%E5%8D%9A%E5%AE%A2%5D(https://blog.csdn.net/mg_hover/article/details/96834177)">TIM</a></p>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
            <tag> ADC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>喵提醒</title>
      <link href="/%E5%B7%A5%E5%85%B7/2023/07/15/%E5%85%B6%E5%AE%83/%E5%96%B5%E6%8F%90%E9%86%92/"/>
      <url>/%E5%B7%A5%E5%85%B7/2023/07/15/%E5%85%B6%E5%AE%83/%E5%96%B5%E6%8F%90%E9%86%92/</url>
      
        <content type="html"><![CDATA[<p>微信公众号提醒工具</p><span id="more"></span><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202307151730014.png" alt="image-20230715173012950"></p>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Clion进行Qt6开发</title>
      <link href="/Qt/2023/06/08/Qt/Clion%E8%BF%9B%E8%A1%8CQt6%E5%BC%80%E5%8F%91/"/>
      <url>/Qt/2023/06/08/Qt/Clion%E8%BF%9B%E8%A1%8CQt6%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<p>内部资料</p><span id="more"></span><h1 id="使用MSVC编译器"><a href="#使用MSVC编译器" class="headerlink" title="使用MSVC编译器"></a>使用MSVC编译器</h1><p>​在cmake中加上这句</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">-D CMAKE_PREFIX_PATH=<span class="hljs-string">&quot;D:\Qt\6.2.4\msvc2019_64\lib\cmake&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Clion </tag>
            
            <tag> Qt6 </tag>
            
            <tag> Install </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STM32 添加DSP库</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/05/19/%E5%8D%95%E7%89%87%E6%9C%BA/STM32-%E6%B7%BB%E5%8A%A0DSP%E5%BA%93/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/05/19/%E5%8D%95%E7%89%87%E6%9C%BA/STM32-%E6%B7%BB%E5%8A%A0DSP%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<p>stm32添加DSP库，实现FFT</p><span id="more"></span><p><a href="https://blog.csdn.net/qq_34022877/article/details/117855263">stm32cubemx</a></p><p>更改cmake</p><p>去掉注释中的硬件浮点数</p><p>还有加上下面这个代码</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs CMAKE"><span class="hljs-keyword">target_link_libraries</span>(<span class="hljs-variable">$&#123;PROJECT_NAME&#125;</span>.elf <span class="hljs-variable">$&#123;CMAKE_SOURCE_DIR&#125;</span>/Middlewares/ST/ARM/DSP/Lib/libarm_cortexM4lf_math.a)<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 国电 </tag>
            
            <tag> Stm32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言操作Excel</title>
      <link href="/C/2023/05/19/%E5%90%84%E7%A7%8D%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E6%93%8D%E4%BD%9CExcel/"/>
      <url>/C/2023/05/19/%E5%90%84%E7%A7%8D%E8%AF%AD%E8%A8%80/C%E8%AF%AD%E8%A8%80%E6%93%8D%E4%BD%9CExcel/</url>
      
        <content type="html"><![CDATA[<p>引用第三方库<a href="https://www.libxl.com/download.html">libxls</a>实现C语言操作Excel</p><span id="more"></span><h1 id="libxls"><a href="#libxls" class="headerlink" title="libxls"></a>libxls</h1><blockquote><p>官网描述</p></blockquote><p>LibXL is a library that can read and write Excel files. It doesn’t require Microsoft Excel and .NET framework, combines an easy to use and powerful features. Library can be used to</p><ul><li>Generate a new spreadsheet from scratch</li><li>Extract data from an existing spreadsheet</li><li>Edit an existing spreadsheet</li></ul><p>LibXL can help your applications in exporting and extracting data to&#x2F;from Excel files with minimum effort. Also it can be used as report engine. Library can be used in C, C++, C#, Delphi, PHP, Python, PowerBASIC, Xojo, Fortran and other languages. Supports Excel 97-2003 binary formats (xls), Excel 2007-2021 XML formats (xlsx&#x2F;xlsm). Supports Unicode and 64-bit platforms. There are a wrapper for .NET developers and separate Linux, Mac and iOS editions. See features of the library in <a href="https://www.libxl.com/examples/demo.xls">demo.xls</a> or <a href="https://www.libxl.com/examples/demo.xlsx">demo.xlsx</a> files.</p><h1 id="配置环境"><a href="#配置环境" class="headerlink" title="配置环境"></a>配置环境</h1><blockquote><p>官方原文版</p></blockquote><p>LibXL is a library for direct reading and writing Excel files.</p><p>Package contents:</p><p>  bin              32-bit dynamic library (libxl.dll)<br>  bin64            64-bit dynamic library (libxl.dll)<br>  bin64_32         the same libraries with different names for 32-bit and 64-bit (can be used in the same folder)<br>  binarm64         ARM64 dynamic library (libxl.dll)<br>  doc              C++ documentation<br>  examples         C, C++, C#, Delphi and Fortran examples (MinGW, Visual Studio, Qt, Code::Blocks)<br>  include_c        headers for C<br>  include_cpp      headers for C++<br>  lib              Microsoft Visual C++ 32-bit import library for libxl.dll in the bin folder<br>  lib64            Microsoft Visual C++ 64-bit import library for libxl.dll in the bin64 folder<br>  lib64_32         the import libraries for dynamic libraries libxl32.dll and libxl64.dll from the bin64_32 folder<br>  libarm64         Microsoft Visual C++ ARM64 import library for libxl.dll in the binarm64 folder<br>  net              .NET wrapper (assembly)<br>  php              compiled plug-in for PHP<br>  stdcall          32-bit dynamic library with the stdcall calling convention<br>  changelog.txt    version history<br>  libxl.url        link to home page<br>  license.txt      end-user license agreement<br>  readme.txt       this file</p><p>Using library:</p><ol><li><p>Microsoft Visual C++</p><ul><li><p>add include directory in your project, for example: c:\libxl\include_cpp</p><p>Project -&gt; Properties -&gt; C&#x2F;C++ -&gt; General -&gt; Additional Include Directories</p></li><li><p>add library directory in your project, for example: c:\libxl\lib</p><p>Project -&gt; Properties -&gt; Linker -&gt; General -&gt; Additional Library Directories</p></li><li><p>add libxl.lib in project dependencies:</p><p>Project -&gt; Properties -&gt; Linker -&gt; Input -&gt; Additional Dependencies</p></li><li><p>copy bin\libxl.dll to directory of your project</p></li></ul></li><li><p>MinGW</p><p>Type in examples&#x2F;c++&#x2F;mingw directory:</p><p>  g++ generate.cpp -o generate -I..&#x2F;..&#x2F;..&#x2F;include_cpp -L..&#x2F;..&#x2F;..&#x2F;bin -lxl</p><p>Use mingw32-make for building examples.</p></li><li><p>C# and other .NET languages</p><p>Use assembly libxl.net.dll in net directory: Project -&gt; Add reference… -&gt; Browse</p><p>Also copy bin\libxl.dll to Debug or Release directory of your project.</p></li><li><p>Qt</p><ul><li><p>add the following lines to a configuration file (.pro):</p><p>INCLUDEPATH &#x3D; c:&#x2F;libxl-3.6.4.0&#x2F;include_cpp<br>LIBS +&#x3D; c:&#x2F;libxl-3.6.4.0&#x2F;lib&#x2F;libxl.lib</p></li><li><p>copy bin\libxl.dll to the build directory of your project</p></li></ul></li><li><p>Borland C++ and Embarcadero C++ Builder</p><ul><li><p>create an import library for your compiler:</p><p>  implib -a libxl.lib libxl.dll</p></li><li><p>add the include directory to your project, for example: c:\libxl-3.9.1.0\include_cpp</p><p>Project -&gt; Options -&gt; Building -&gt; C++ Compiler -&gt; Directories and Conditionals -&gt; Include file search path</p><p>or </p><p>Project -&gt; Options -&gt; Directories&#x2F;Conditionals -&gt; Include path (for old C++ Bulder versions)</p></li><li><p>add library directory to your project (only for old C++ Builder versions)</p><p>Project -&gt; Options -&gt; Directories&#x2F;Conditionals -&gt; Library path</p></li><li><p>add libxl.lib to your project</p><p>Project -&gt; Add to Project…</p></li><li><p>copy libxl.dll from the bin folder to <your_project_directory>&#x2F;Win32&#x2F;Debug or <your_project_directory>&#x2F;Win32&#x2F;Release folder</p><p>If your target is “Windows 64-bit” copy libxl.dll from the bin64 folder.</p></li></ul></li><li><p>Delphi</p><ul><li><p>add the directory with the LibXL.pas unit, for example: c:\libxl-3.9.1.0\examples\delphi12</p><p>Project -&gt; Options -&gt; Building -&gt; Delphi Compiler -&gt; Search path</p></li><li><p>copy libxl.dll from the bin folder to <your_project_directory>\Win32\Debug or <your_project_directory>\Win32\Release folder</p></li></ul></li></ol><p>Documentation:</p><p>  <a href="http://www.libxl.com/doc">http://www.libxl.com/doc</a></p><p>Contact:</p><p>  <a href="mailto:&#115;&#117;&#x70;&#112;&#x6f;&#x72;&#x74;&#64;&#108;&#105;&#98;&#120;&#108;&#x2e;&#x63;&#111;&#x6d;">&#115;&#117;&#x70;&#112;&#x6f;&#x72;&#x74;&#64;&#108;&#105;&#98;&#120;&#108;&#x2e;&#x63;&#111;&#x6d;</a></p><h2 id="VS简化版"><a href="#VS简化版" class="headerlink" title="VS简化版"></a>VS简化版</h2><ul><li><p>把 <strong>\libxl\include_cpp</strong> 文件添加到 P<strong>roject -&gt; Properties -&gt; C&#x2F;C++ -&gt; General -&gt; Additional Include Directories</strong></p></li><li><p>把 <strong>\libxl\lib</strong> 文件添加到 <strong>Project -&gt; Properties -&gt; Linker -&gt; General -&gt; Additional Library Directories</strong></p></li><li><p>添加 <strong>libxl.lib</strong> 文件到 <strong>Project -&gt; Properties -&gt; Linker -&gt; Input -&gt; Additional Dependencies</strong></p></li><li><p>复制 <strong>bin\libxl.dll</strong> 到项目路径下</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用两个模型分析Titanic数据集</title>
      <link href="/Deep-learning/2023/05/14/deep%20learning/stage/"/>
      <url>/Deep-learning/2023/05/14/deep%20learning/stage/</url>
      
        <content type="html"><![CDATA[<p>用Random Forest 和 Logistic Regression 两个模型来分析Titanic数据集</p><span id="more"></span><h1 id="Random-Forest"><a href="#Random-Forest" class="headerlink" title="Random Forest"></a>Random Forest</h1><h2 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np <span class="hljs-comment"># linear algebra</span><br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd <span class="hljs-comment"># data processing, CSV file I/O (e.g. pd.read_csv)</span><br><span class="hljs-comment"># 使用决策树，随机森林模型</span><br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestClassifier<br><br><span class="hljs-comment"># 训练数据</span><br>train_data = pd.read_csv(<span class="hljs-string">&quot;Input/titanic/train.csv&quot;</span>)<br><span class="hljs-comment"># print(train_data.head().isnull().sum())       # 检测是否有缺失数据</span><br><br><span class="hljs-comment"># 测试数据</span><br>test_data = pd.read_csv(<span class="hljs-string">&quot;Input/titanic/test.csv&quot;</span>)<br><span class="hljs-comment"># test_data.head()</span><br><br><span class="hljs-comment"># 选出男女的存活人数</span><br>women = train_data.loc[train_data.Sex == <span class="hljs-string">&#x27;female&#x27;</span>][<span class="hljs-string">&quot;Survived&quot;</span>]<br>men = train_data.loc[train_data.Sex == <span class="hljs-string">&#x27;male&#x27;</span>][<span class="hljs-string">&quot;Survived&quot;</span>]<br><br><span class="hljs-comment"># print(men)</span><br>rate_men = <span class="hljs-built_in">sum</span>(men)/<span class="hljs-built_in">len</span>(men)           <span class="hljs-comment"># 计算男人存活的概率</span><br><span class="hljs-comment"># print(women)</span><br>rate_women = <span class="hljs-built_in">sum</span>(women)/<span class="hljs-built_in">len</span>(women)      <span class="hljs-comment"># 计算女人存活的概率</span><br><br><span class="hljs-comment"># print(&quot;% of women who survived:&quot;, rate_women)</span><br><span class="hljs-comment"># print(&quot;% of men who survived:&quot;, rate_men)</span><br><br>y = train_data[<span class="hljs-string">&quot;Survived&quot;</span>]<br><span class="hljs-comment"># print(y)</span><br><br><span class="hljs-comment"># 这里有四个feature</span><br>features = [<span class="hljs-string">&quot;Pclass&quot;</span>, <span class="hljs-string">&quot;Sex&quot;</span>, <span class="hljs-string">&quot;SibSp&quot;</span>, <span class="hljs-string">&quot;Parch&quot;</span>]<br><br><span class="hljs-comment"># 使用on hot encode方法，将数据中的文字转化为数字</span><br><span class="hljs-comment"># print(train_data[features].head(10))</span><br>X = pd.get_dummies(train_data[features])<br><span class="hljs-built_in">print</span>(X.head(<span class="hljs-number">10</span>))<br><br><span class="hljs-comment"># 获得测试数据中四个feature的数据</span><br>X_test = pd.get_dummies(test_data[features])<br><br><span class="hljs-comment"># 开始训练模型</span><br><span class="hljs-comment"># 初始化模型的超参数</span><br>model = RandomForestClassifier(n_estimators=<span class="hljs-number">100</span>, max_depth=<span class="hljs-number">5</span>, random_state=<span class="hljs-number">1</span>)<br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">n_estimators：这个参数指定了随机森林中决策树的数量（默认值为100）。更多的决策树可以提高模型的稳定性和准确性，但同时也会增加计算开销。</span><br><span class="hljs-string"></span><br><span class="hljs-string">max_depth：这个参数指定了每棵决策树的最大深度（默认值为None）。限制决策树的深度可以防止过拟合，但如果设置得太小，模型可能无法捕捉到复杂的关系。</span><br><span class="hljs-string"></span><br><span class="hljs-string">random_state：这个参数控制随机性的种子（默认值为None）。设置random_state可以使得每次运行模型时得到相同的结果，便于结果的复现性。</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-comment"># 四个features</span><br>model.fit(X, y)<br><br><span class="hljs-comment"># 模型训练完毕，预测测试数据中的结果</span><br>predictions = model.predict(X_test)<br><br><span class="hljs-comment"># 输出结果</span><br>output = pd.DataFrame(&#123;<span class="hljs-string">&#x27;PassengerId&#x27;</span>: test_data.PassengerId, <span class="hljs-string">&#x27;Survived&#x27;</span>: predictions&#125;)<br>output.to_csv(<span class="hljs-string">&#x27;submission_randomforest.csv&#x27;</span>, index=<span class="hljs-literal">False</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Your submission was successfully saved!&quot;</span>)<br><br><br></code></pre></td></tr></table></figure><h1 id="Logic-Regression（softmax）"><a href="#Logic-Regression（softmax）" class="headerlink" title="Logic Regression（softmax）"></a>Logic Regression（softmax）</h1><h2 id="说说softmax-Regression和Logic-Regression-的区别"><a href="#说说softmax-Regression和Logic-Regression-的区别" class="headerlink" title="说说softmax Regression和Logic Regression 的区别"></a>说说softmax Regression和Logic Regression 的区别</h2><blockquote><p>逻辑回归是一种二分类模型，而Softmax回归是一种多分类模型。当类别数为2时，Softmax回归就是逻辑回归。</p></blockquote><p>Softmax回归（Softmax Regression）和逻辑回归（Logistic Regression）是在某种程度上相似，但并不完全相同。</p><p>逻辑回归是一种用于解决二分类问题的线性模型。它使用sigmoid函数将输入映射到0和1之间的概率值，并根据设定的阈值进行分类。逻辑回归可以看作是一种特殊情况下的Softmax回归，当只有两个类别时，Softmax回归即为逻辑回归。</p><p>而Softmax回归是一种用于多分类问题的模型。它通过对输入样本进行线性变换，然后使用Softmax函数将线性变换后的值转换为表示各个类别概率的向量。Softmax函数将每个类别的概率归一化，使其总和为1。然后根据最高概率所对应的类别进行分类。</p><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np <span class="hljs-comment"># linear algebra</span><br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd <span class="hljs-comment"># data processing, CSV file I/O (e.g. pd.read_csv)</span><br><span class="hljs-comment"># 使用逻辑回归模型</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression<br><br><span class="hljs-comment"># 训练数据</span><br>train_data = pd.read_csv(<span class="hljs-string">&quot;Input/titanic/train.csv&quot;</span>)<br><span class="hljs-comment"># print(train_data.head().isnull().sum())       # 检测是否有缺失数据</span><br><br><span class="hljs-comment"># 测试数据</span><br>test_data = pd.read_csv(<span class="hljs-string">&quot;Input/titanic/test.csv&quot;</span>)<br><span class="hljs-comment"># test_data.head()</span><br><br><span class="hljs-comment"># 选出男女的存活人数</span><br>women = train_data.loc[train_data.Sex == <span class="hljs-string">&#x27;female&#x27;</span>][<span class="hljs-string">&quot;Survived&quot;</span>]<br>men = train_data.loc[train_data.Sex == <span class="hljs-string">&#x27;male&#x27;</span>][<span class="hljs-string">&quot;Survived&quot;</span>]<br><br>rate_men = <span class="hljs-built_in">sum</span>(men) / <span class="hljs-built_in">len</span>(men)  <span class="hljs-comment"># 计算男人存活的概率</span><br>rate_women = <span class="hljs-built_in">sum</span>(women) / <span class="hljs-built_in">len</span>(women)  <span class="hljs-comment"># 计算女人存活的概率</span><br><br>y = train_data[<span class="hljs-string">&quot;Survived&quot;</span>]<br>features = [<span class="hljs-string">&quot;Pclass&quot;</span>, <span class="hljs-string">&quot;Sex&quot;</span>, <span class="hljs-string">&quot;SibSp&quot;</span>, <span class="hljs-string">&quot;Parch&quot;</span>]<br><br>X = pd.get_dummies(train_data[features])<br>X_test = pd.get_dummies(test_data[features])<br><br><span class="hljs-comment"># 初始化逻辑回归模型</span><br>model = LogisticRegression()<br><br>model.fit(X, y)<br><br>predictions = model.predict(X_test)<br><br>output = pd.DataFrame(&#123;<span class="hljs-string">&#x27;PassengerId&#x27;</span>: test_data.PassengerId, <span class="hljs-string">&#x27;Survived&#x27;</span>: predictions&#125;)<br>output.to_csv(<span class="hljs-string">&#x27;submission_logic.csv&#x27;</span>, index=<span class="hljs-literal">False</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Your submission was successfully saved!&quot;</span>)<br><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Deep learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> deep learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QTablewidget使用</title>
      <link href="/Qt/2023/05/14/Qt/QTablewidget%E4%BD%BF%E7%94%A8/"/>
      <url>/Qt/2023/05/14/Qt/QTablewidget%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>QTablewidget的各种使用方法</p><span id="more"></span><h1 id="隐藏行列"><a href="#隐藏行列" class="headerlink" title="隐藏行列"></a>隐藏行列</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 隐藏列</span><br>ui-&gt;tableWidget-&gt;<span class="hljs-built_in">setColumnHidden</span>(<span class="hljs-number">0</span>, <span class="hljs-literal">true</span>); <span class="hljs-comment">// 隐藏第一列</span><br>ui-&gt;tableWidget-&gt;<span class="hljs-built_in">setColumnHidden</span>(<span class="hljs-number">2</span>, <span class="hljs-literal">true</span>); <span class="hljs-comment">// 隐藏第三列</span><br><br><span class="hljs-comment">// 隐藏行</span><br>ui-&gt;tableWidget-&gt;<span class="hljs-built_in">setRowHidden</span>(<span class="hljs-number">0</span>, <span class="hljs-literal">true</span>); <span class="hljs-comment">// 隐藏第一行</span><br>ui-&gt;tableWidget-&gt;<span class="hljs-built_in">setRowHidden</span>(<span class="hljs-number">2</span>, <span class="hljs-literal">true</span>); <span class="hljs-comment">// 隐藏第三行</span><br><br><span class="hljs-comment">// 显示列</span><br>ui-&gt;tableWidget-&gt;<span class="hljs-built_in">setColumnHidden</span>(<span class="hljs-number">0</span>, <span class="hljs-literal">false</span>); <span class="hljs-comment">// 显示第一列</span><br>ui-&gt;tableWidget-&gt;<span class="hljs-built_in">setColumnHidden</span>(<span class="hljs-number">2</span>, <span class="hljs-literal">false</span>); <span class="hljs-comment">// 显示第三列</span><br><br><span class="hljs-comment">// 显示行</span><br>ui-&gt;tableWidget-&gt;<span class="hljs-built_in">setRowHidden</span>(<span class="hljs-number">0</span>, <span class="hljs-literal">false</span>); <span class="hljs-comment">// 显示第一行</span><br>ui-&gt;tableWidget-&gt;<span class="hljs-built_in">setRowHidden</span>(<span class="hljs-number">2</span>, <span class="hljs-literal">false</span>); <span class="hljs-comment">// 显示第三行</span><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QCustomplot中X轴的操作</title>
      <link href="/Qt/2023/05/10/Qt/QCustomplot%E4%B8%ADX%E8%BD%B4%E7%9A%84%E6%93%8D%E4%BD%9C/"/>
      <url>/Qt/2023/05/10/Qt/QCustomplot%E4%B8%ADX%E8%BD%B4%E7%9A%84%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<p>​QCustomplot的坐标轴操作，图像缩放问题。</p><span id="more"></span><h1 id="关于我找错方向，测试了一晚的代码"><a href="#关于我找错方向，测试了一晚的代码" class="headerlink" title="关于我找错方向，测试了一晚的代码"></a>关于我找错方向，测试了一晚的代码</h1><blockquote><p>这个是关于图像放缩的代码，具体看注释</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// key是x轴，value是y轴</span><br><br><span class="hljs-type">double</span> currentRangeLower = ui_chart_-&gt;widget-&gt;xAxis-&gt;<span class="hljs-built_in">range</span>().lower;<br><span class="hljs-type">double</span> currentRangeUpper = ui_chart_-&gt;widget-&gt;xAxis-&gt;<span class="hljs-built_in">range</span>().upper;<br><span class="hljs-type">double</span> newRangeLower = data_pool_[i].data_list[i].time - <span class="hljs-number">30</span>;<br><span class="hljs-type">double</span> newRangeUpper = data_pool_[i].data_list[i].time;<br><br><span class="hljs-comment">// 移动 x 轴范围</span><br>ui_chart_-&gt;widget-&gt;xAxis-&gt;<span class="hljs-built_in">moveRange</span>(newRangeLower - currentRangeLower, newRangeUpper - currentRangeUpper);<br><br><span class="hljs-comment">// 图像的首尾都确定</span><br>custom_plot_-&gt;<span class="hljs-built_in">graph</span>(<span class="hljs-number">0</span>)-&gt;<span class="hljs-built_in">rescaleAxes</span>();    <br><br><span class="hljs-comment">// 改成了任意图像，没测试环境，不知是否有问题</span><br>custom_plot_-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">rescaleAxes</span>(<span class="hljs-literal">true</span>);          <br><br> <span class="hljs-comment">// y轴不变，x轴始终首尾显示</span><br>custom_plot_-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">rescaleKeyAxis</span>(<span class="hljs-literal">false</span>); <br><br><span class="hljs-comment">// y轴不动，不断地压缩图像，显示尾点</span><br>custom_plot_-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">rescaleKeyAxis</span>(<span class="hljs-literal">true</span>);     <br><br> <span class="hljs-comment">// x轴不变，y轴始终显示最大最小，</span><br>custom_plot_-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">rescaleValueAxis</span>(rolling_flag);    <br><br><span class="hljs-comment">// 好像区别不大</span><br>custom_plot_-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">rescaleValueAxis</span>(<span class="hljs-literal">true</span>);     <br><br> <span class="hljs-comment">// 和下面一样</span><br>custom_plot_-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">rescaleValueAxis</span>(<span class="hljs-literal">false</span>,<span class="hljs-literal">false</span>);    <br><br> <span class="hljs-comment">// x轴不变，y轴始终显示最大最小，而且都贴着边轴</span><br>custom_plot_-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">rescaleValueAxis</span>(<span class="hljs-literal">false</span>,<span class="hljs-literal">true</span>);      <br><br> <span class="hljs-comment">// 和下面一样</span><br>custom_plot_-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">rescaleValueAxis</span>(<span class="hljs-literal">true</span>,<span class="hljs-literal">false</span>);      <br><br><span class="hljs-comment">// x轴不变，y始终显示最大最小，不过缩放的是轴，图像没关系</span><br>custom_plot_-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">rescaleValueAxis</span>(<span class="hljs-literal">true</span>,<span class="hljs-literal">true</span>);        <br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
            <tag> C++ </tag>
            
            <tag> Qcustomplot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qt右键菜单</title>
      <link href="/Qt/2023/05/10/Qt/Qt%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/"/>
      <url>/Qt/2023/05/10/Qt/Qt%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95/</url>
      
        <content type="html"><![CDATA[<p>自定义qt右键菜单</p><span id="more"></span><h1 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h1><p>​QTextedit是 自带右键菜单的，如果要自己增加的话，会把原来的功能整的不能使用。</p><h1 id="右键菜单"><a href="#右键菜单" class="headerlink" title="右键菜单"></a>右键菜单</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 图表右键菜单</span><br>    ui_chart_-&gt;widget-&gt;<span class="hljs-built_in">setContextMenuPolicy</span>(Qt::CustomContextMenu);<br>    <span class="hljs-built_in">connect</span>(ui_chart_-&gt;widget, &amp;QWidget::customContextMenuRequested, <span class="hljs-keyword">this</span>, [&amp;](<span class="hljs-type">const</span> QPoint pos) &#123;<br><br>      QMenu *menu = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QMenu</span>(ui_chart_-&gt;widget);<br>      QAction *run = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QAction</span>(<span class="hljs-string">&quot;开启滚动&quot;</span>, ui_chart_-&gt;widget);<br>      QAction *stop = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QAction</span>(<span class="hljs-string">&quot;停止滚动&quot;</span>, ui_chart_-&gt;widget);<br>      <span class="hljs-built_in">connect</span>(run, &amp;QAction::triggered, <span class="hljs-keyword">this</span>, [&amp;] &#123;<br>        <span class="hljs-comment">//怎么让它滚动</span><br>        <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;run()&quot;</span>;<br><br>      &#125;);<br>      <span class="hljs-built_in">connect</span>(stop, &amp;QAction::triggered, <span class="hljs-keyword">this</span>, [&amp;] &#123;<br>        <span class="hljs-comment">//默认是不滚动的</span><br>        <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;stop()&quot;</span>;<br><br>      &#125;);<br>      menu-&gt;<span class="hljs-built_in">addAction</span>(run);<br>      menu-&gt;<span class="hljs-built_in">addAction</span>(stop);<br>      menu-&gt;<span class="hljs-built_in">move</span>(<span class="hljs-built_in">cursor</span>().<span class="hljs-built_in">pos</span>());<br>      menu-&gt;<span class="hljs-built_in">show</span>();<br></code></pre></td></tr></table></figure><h1 id="添加控件"><a href="#添加控件" class="headerlink" title="添加控件"></a>添加控件</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++">QMenu *menu = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QMenu</span>(ui_chart_-&gt;widget);<br><br>      QCheckBox *control = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QCheckBox</span>(<span class="hljs-string">&quot;是否滚动&quot;</span>,ui_chart_-&gt;widget);<br>      rolling_flag==<span class="hljs-literal">true</span> ? control-&gt;<span class="hljs-built_in">setCheckState</span>(Qt::Checked) : control-&gt;<span class="hljs-built_in">setCheckState</span>(Qt::Unchecked);         <span class="hljs-comment">// 设置选择框的默认状态</span><br>      QWidgetAction *choice = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QWidgetAction</span>(ui_chart_-&gt;widget);<br>      choice-&gt;<span class="hljs-built_in">setDefaultWidget</span>(control);                                       <span class="hljs-comment">// 在Action对象中添加控件</span><br><br>      QAction *restore = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QAction</span>(<span class="hljs-string">&quot;自动&quot;</span>, ui_chart_-&gt;widget);<br>      <span class="hljs-built_in">connect</span>(control, &amp;QCheckBox::stateChanged, <span class="hljs-keyword">this</span>, [&amp;,<span class="hljs-keyword">this</span>](<span class="hljs-type">int</span> state) &#123;<br>        state==Qt::Checked ? rolling_flag = <span class="hljs-literal">true</span> : rolling_flag = <span class="hljs-literal">false</span>;        <span class="hljs-comment">// 设置是否滚动</span><br>      &#125;);<br><br>      <span class="hljs-built_in">connect</span>(restore, &amp;QAction::triggered, <span class="hljs-keyword">this</span>, [&amp;] &#123;<br>        <span class="hljs-comment">//默认是不滚动的</span><br>        <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;auto()&quot;</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; data_pool_.<span class="hljs-built_in">size</span>(); ++i) &#123;<br>            custom_plot_-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">rescaleAxes</span>();              <span class="hljs-comment">// 自动调整图像，首尾点都显示出来</span><br>        &#125;<br><br>      &#125;);<br>      menu-&gt;<span class="hljs-built_in">addAction</span>(choice);<br>      menu-&gt;<span class="hljs-built_in">addAction</span>(restore);<br>      menu-&gt;<span class="hljs-built_in">move</span>(<span class="hljs-built_in">cursor</span>().<span class="hljs-built_in">pos</span>());           <span class="hljs-comment">// 这是什么？</span><br>      menu-&gt;<span class="hljs-built_in">show</span>();<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>d2l环境配置</title>
      <link href="/Deep-learning/2023/04/22/deep%20learning/d2l%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
      <url>/Deep-learning/2023/04/22/deep%20learning/d2l%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>  在win11平台上部署d2l测试环境的步骤，以及遇到的问题。</p><span id="more"></span><h2 id="NVIDIA显卡，安装CUBA"><a href="#NVIDIA显卡，安装CUBA" class="headerlink" title="NVIDIA显卡，安装CUBA"></a>NVIDIA显卡，安装CUBA</h2><p>​到NVIDIA官网，跟着安装提示装就行了。<a href="https://developer.nvidia.com/cuda-downloads">CUBA</a></p><p>Cuda安装也有很多报错。。。</p><h3 id="Warnning："><a href="#Warnning：" class="headerlink" title="Warnning："></a>Warnning：</h3><p>​<strong>cuda</strong>的版本要对应pytorch（GPU版），所以一定要选好再装。<strong>cuda</strong>版本也要和<strong>cunn</strong>的版本对应。</p><p><strong>nvcc –version</strong>查看已安装的cuda的版本。</p><h3 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h3><p>​与普通软件卸载方式相同，在程序那里找CUDA的程序卸载，再清理注册表的垃圾。</p><h2 id="Miniconda"><a href="#Miniconda" class="headerlink" title="Miniconda"></a>Miniconda</h2><ol><li><p>先到 <a href="https://conda.io/en/latest/miniconda.html#other-resources">官网</a> 下载对应的版本，按照提示安装好就行。</p></li><li><p>以管理员身份打开 Anaconda Prompt , Warnning: 以管理员身份运行，全装C盘了。。。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">conda create --name d2l python=3.9 -y<br></code></pre></td></tr></table></figure></li></ol><p>​<a href="https://imgse.com/i/p9VbL24"><img src="https://s1.ax1x.com/2023/04/22/p9VbL24.png" alt="p9VbL24.png"></a></p><ol start="3"><li>安装Pytorch （这里安装的是cpu版）</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">pip install torch==1.12.0<br>pip install torchvision==0.13.0<br></code></pre></td></tr></table></figure><ol start="4"><li>删除</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">直接删除就行</span><br>pip uninstall torch<br>pip uninstall torchvision<br></code></pre></td></tr></table></figure><ol start="4"><li>安装d2l包</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">pip install d2l==0.17.6<br></code></pre></td></tr></table></figure><ol start="5"><li><p>离线下载</p><ol><li><p><a href="https://download.pytorch.org/whl/torch_stable.html">官网</a></p></li><li><p>找到对应的CUDA的版本，torch，torchvision，torchaudio的whl文件，然后进行离线安装</p></li><li><p>&#96;&#96;&#96;shell<br>pip install *.whl# 直接把这部分安装</p><figure class="highlight golo"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs golo"><br>* 相关命令<br><br>* pip <span class="hljs-keyword">list</span>    --查看已经安装好的库<br><br>  ```python<br>  <span class="hljs-keyword">import</span> torch<br>  <span class="hljs-keyword">print</span>(torch.__version__)<span class="hljs-comment"># 查看torch版本</span><br>  <span class="hljs-keyword">print</span>(torch.version.cuda)<span class="hljs-comment"># 查看cuda版本</span><br>  <span class="hljs-keyword">print</span>(torch.backends.cudnn.version())<span class="hljs-comment"># 查看cudnn版本</span><br></code></pre></td></tr></table></figure></li></ol></li></ol><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><h3 id="conda命令不能在普通的powershell中使用"><a href="#conda命令不能在普通的powershell中使用" class="headerlink" title="conda命令不能在普通的powershell中使用"></a>conda命令不能在普通的<em>powershell</em>中使用</h3><p>​一般情况下，conda命令都是在<em>Anaconda powershell promt</em>中使用。</p><ul><li><p>设置环境变量：在环境变量中添加<strong>Anaconda</strong>中包含conda.exe的文件夹目录。</p></li><li><pre><code class="shell]">#在终端运行 conda init powershell<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><br>* 运行完毕再重启，这时候提示系统禁止运行脚本。修改计算机的执行策略<br><br>* ```<span class="hljs-string">shell</span><br>  <span class="hljs-built_in">get-executionpolicy</span><br>  <span class="hljs-built_in">set-executionpolicy</span> <span class="hljs-string">remotesigned</span><span class="hljs-comment"># 选y</span><br>  <br>  <span class="hljs-built_in">set-executionpolicy</span> <span class="hljs-string">restricted</span><span class="hljs-comment"># 如果要改回来的话</span><br></code></pre></td></tr></table></figure></code></pre></li><li><p>这样子以后，终端默认启动aconda</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Deep learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Deep Learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何在Clion中优雅地debug</title>
      <link href="/Qt/2023/04/22/Qt/%E5%A6%82%E4%BD%95%E5%9C%A8Clion%E4%B8%AD%E4%BC%98%E9%9B%85%E5%9C%B0debug/"/>
      <url>/Qt/2023/04/22/Qt/%E5%A6%82%E4%BD%95%E5%9C%A8Clion%E4%B8%AD%E4%BC%98%E9%9B%85%E5%9C%B0debug/</url>
      
        <content type="html"><![CDATA[<p> 各种debug的技巧，Clion的优点</p><span id="more"></span><h2 id="内存泄漏问题"><a href="#内存泄漏问题" class="headerlink" title="内存泄漏问题"></a>内存泄漏问题</h2><p>​Clion的debug可以设置在程序出现异常的前一步中断住，这样可以看是哪一步的问题。</p><h2 id="cmake的debug"><a href="#cmake的debug" class="headerlink" title="cmake的debug"></a>cmake的debug</h2><p>​直接在cmake文件里面打断点，也是可以调试cmake语句的</p>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Qcustomplot之修改颜色</title>
      <link href="/Qt/2023/04/04/Qt/Qcustomplor%E4%B9%8B%E4%BF%AE%E6%94%B9%E9%A2%9C%E8%89%B2/"/>
      <url>/Qt/2023/04/04/Qt/Qcustomplor%E4%B9%8B%E4%BF%AE%E6%94%B9%E9%A2%9C%E8%89%B2/</url>
      
        <content type="html"><![CDATA[<p>图像的颜色修改, 控件的颜色修改</p><span id="more"></span><h2 id="Palette类型"><a href="#Palette类型" class="headerlink" title="Palette类型"></a>Palette类型</h2><blockquote><p>改变控件颜色</p></blockquote><ul><li><p>先获取控件</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">QPalette plet = line_[i].choose_color-&gt;<span class="hljs-built_in">palette</span>();<br></code></pre></td></tr></table></figure></li><li><p>修改控件颜色</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">plet.<span class="hljs-built_in">setColor</span> (QPalette::Button, color)<span class="hljs-comment">// color 为 QColor类型</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="QPen"><a href="#QPen" class="headerlink" title="QPen"></a>QPen</h2><blockquote><p>图像颜色修改</p></blockquote><ul><li>直接修改掉QPen的变量即可, 直接对图像进行颜色赋值</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">pen.<span class="hljs-built_in">setColor</span> (data_pool_.<span class="hljs-built_in">at</span>(i),color);<br>ui_chart_-&gt;widget-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">setPen</span>(pen);<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++">QPalette plet = line_info_[i].choose_color-&gt;<span class="hljs-built_in">palette</span>();<br>QColor currentColor = plet.<span class="hljs-built_in">color</span>(QPalette::Button);    <span class="hljs-comment">// 当前颜色</span><br>QColor color = QColorDialog::<span class="hljs-built_in">getColor</span>(currentColor, <span class="hljs-keyword">this</span>,(<span class="hljs-string">&quot;颜色选择&quot;</span>));<br><br><span class="hljs-keyword">if</span> (color.<span class="hljs-built_in">isValid</span>())&#123;<br>    plet.<span class="hljs-built_in">setColor</span> (QPalette::Button, color);<br>    line_info_[i].choose_color-&gt;<span class="hljs-built_in">setPalette</span> (plet);<br>    data_pool_[i].line_color = color;<span class="hljs-comment">// 这句话好像可以删掉</span><br><br>    <span class="hljs-comment">// 改变图像属性</span><br>    QPen pen;<br>    pen.<span class="hljs-built_in">setWidth</span>(data_pool_.<span class="hljs-built_in">at</span>(i).line_width);<span class="hljs-comment">//设置线宽,默认是2</span><br>    pen.<span class="hljs-built_in">setColor</span>(data_pool_.<span class="hljs-built_in">at</span>(i).line_color);<span class="hljs-comment">//设置线条红色</span><br>    ui_chart_-&gt;widget-&gt;<span class="hljs-built_in">graph</span>(i)-&gt;<span class="hljs-built_in">setPen</span>(pen);<br><br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>2023年10月28日，在使用重写QCustomplot的鼠标和滚轮事件之后，发现以前的功能，如改变可视化，颜色，改变之后不能重新渲染。难道以前是默认重新渲染的？加上replot之后就问题不大了。所以很疑惑是什么原因导致了不能重新渲染。</p>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
            <tag> C++ </tag>
            
            <tag> Qcustomplot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Clion与QT的那些事</title>
      <link href="/Qt/2023/03/13/Qt/%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85QT%E7%89%88%E6%9C%AC%E5%BC%83%E5%AD%90/"/>
      <url>/Qt/2023/03/13/Qt/%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85QT%E7%89%88%E6%9C%AC%E5%BC%83%E5%AD%90/</url>
      
        <content type="html"><![CDATA[<p>因为QT6很多库已经放弃了，所以开发要用到旧版，找了很久才找到。</p><span id="more"></span><h2 id="QT的在线安装程序，最低版本已经去到了v5-15，虽然区别不大，但还是统一开发环境比较好。"><a href="#QT的在线安装程序，最低版本已经去到了v5-15，虽然区别不大，但还是统一开发环境比较好。" class="headerlink" title="QT的在线安装程序，最低版本已经去到了v5.15，虽然区别不大，但还是统一开发环境比较好。"></a>QT的在线安装程序，最低版本已经去到了v5.15，虽然区别不大，但还是统一开发环境比较好。</h2><blockquote><p>QT老版本下载: <a href="https://download.qt.io/archive/qt/">qtdownload</a></p><p>QT论坛: <a href="https://forum.qt.io/">Qt Forum</a></p></blockquote><h2 id="QT在线安装器加载源的问题"><a href="#QT在线安装器加载源的问题" class="headerlink" title="QT在线安装器加载源的问题"></a>QT在线安装器加载源的问题</h2><p>​问题：1. 添加的源用不了2. 官方的源用不了</p><blockquote><p>使用终端打开安装器, 在后面加上  –mirror <a href="https://mirrors.aliyun.com/qt">https://mirrors.aliyun.com/qt</a></p><p>如 .\qt_online.exe –mirror <a href="https://mirrors.aliyun.com/qt">https://mirrors.aliyun.com/qt</a></p></blockquote><h2 id="用Clion开发QT"><a href="#用Clion开发QT" class="headerlink" title="用Clion开发QT"></a>用Clion开发QT</h2><ol><li><p>正常下载好QT, 创建好项目并且可以运行</p><blockquote><p>QT安装可以用在线工具, 也可以下载离线安装包</p><p>安装的时候, 一定要选编译器(上下都要选)…</p></blockquote></li><li><p>Clion中配置好QT的工具链</p></li></ol><blockquote><p>在Tools chain中添加QT的debug, 把qt&#x2F;Tools&#x2F;5.12.12&#x2F;Mingw 添加上去</p></blockquote><p><img src="https://s1.ax1x.com/2023/03/14/ppl2V3V.png"></p><h2 id="关于windows环境变量"><a href="#关于windows环境变量" class="headerlink" title="关于windows环境变量"></a>关于windows环境变量</h2><p>添加完环境变量，一定要重启！！！（除非你用在cmd用命令添加的）</p><h2 id="Clion编译QT程序的问题"><a href="#Clion编译QT程序的问题" class="headerlink" title="Clion编译QT程序的问题"></a>Clion编译QT程序的问题</h2><ol><li>找不到qt-config.cmake</li></ol><blockquote><p>在CMake.list程序里面，添加上set(CMAKE_PREFIX_PATH “E:\\QT\\5.12.11\\mingw73_64\\lib\\cmake\\Qt5”)</p><p>此处改为自己的路径</p></blockquote><ol start="2"><li>找不到对应的库，比如说这次(qserialport)</li></ol><blockquote><p>先去找官网或者别的地方找，看看每个版本之间的差异，可能版本的迭代把某些模块删掉了。</p></blockquote><ol start="3"><li><p>Clion编译通过了，但是运行报错-1073741515 (0xC0000135)</p><blockquote><p>运行失败，这个报错是没有链接到动态链接库dll的原因，在系统环境变量中加上qt的编译路径，如：</p><p><img src="https://s1.ax1x.com/2023/03/14/pplsbRO.png"></p></blockquote></li></ol><p>最后一定要重启!!!</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>装软件一定要考虑团队的版本问题, 还有安装时所带的资料库</li><li>windows环境变量设置完之后, 一定要重启电脑</li><li>网上搜教程的同时, 也要去官方论坛看看, bing国际版</li></ul>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Install </tag>
            
            <tag> QT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QT修改槽函数，lambda表达，正则表达</title>
      <link href="/Qt/2023/03/09/Qt/QT%E4%BF%AE%E6%94%B9%E6%A7%BD%E5%87%BD%E6%95%B0%EF%BC%8Clambda%E8%A1%A8%E8%BE%BE%EF%BC%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE/"/>
      <url>/Qt/2023/03/09/Qt/QT%E4%BF%AE%E6%94%B9%E6%A7%BD%E5%87%BD%E6%95%B0%EF%BC%8Clambda%E8%A1%A8%E8%BE%BE%EF%BC%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE/</url>
      
        <content type="html"><![CDATA[<p>QT自定义信号，修改槽函数，lambda表达式，正则表达</p><span id="more"></span><h2 id="修改槽函数"><a href="#修改槽函数" class="headerlink" title="修改槽函数"></a>修改槽函数</h2><ol><li>在private slots 里面添加自定义函数声明，其它的按照官方操作就行</li><li>在widget.cpp 里面写connect函数</li></ol><p>函数原型：</p><p>static QMetaObject::Connection connect(const QObject *sender, const char *signal, const QObject *receiver, const char *member, Qt::ConnectionType &#x3D; Qt::AutoConnection);</p><blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++">QObject::<span class="hljs-built_in">connect</span>(信号的发送者，发送的信号，槽函数所在的类，自定义接收的槽函数)<br>eg：<br>    QObject::<span class="hljs-built_in">connect</span>(ui-&gt;commit,&amp;QPushButton::clicked,<span class="hljs-keyword">this</span>,&amp;Widget::botton);  <span class="hljs-comment">//QT5规范</span><br>QObject::<span class="hljs-built_in">connect</span>(ui-&gt;commit,<span class="hljs-built_in">SIGNAL</span>(<span class="hljs-built_in">clicked</span>(),<span class="hljs-keyword">this</span>,<span class="hljs-built_in">SLOT</span>(<span class="hljs-built_in">botton</span>()));      <span class="hljs-comment">//QT4规范</span><br><br></code></pre></td></tr></table></figure></blockquote><h3 id="自定义信号"><a href="#自定义信号" class="headerlink" title="自定义信号"></a>自定义信号</h3><p><a href="http://c.biancheng.net/view/9429.html">Qt自定义信号和槽函数</a></p><h2 id="lambda表达式"><a href="#lambda表达式" class="headerlink" title="lambda表达式"></a>lambda表达式</h2><p>通过lambada表达式，实现匿名函数的方法。在connect 使用匿名函数不能用QT4规范。</p><p>lambda捕获列表：</p><ul><li><p>[var]表示值传递方式捕捉变量var；</p></li><li><p>[&#x3D;]表示值传递方式捕捉所有父作用域的变量（包括this）；</p></li><li><p>[&amp;var]表示引用传递捕捉变量var；</p></li><li><p>[&amp;]表示引用传递方式捕捉所有父作用域的变量（包括this）；</p><blockquote><p>在QT中, 虽然是传地址, 但是修改了原来变量的值, 但是新的变量值不变, 实现了一部分传值, 一部分传地址</p></blockquote></li><li><p>[this]表示值传递方式捕捉当前的this指针。<br>上面提到了一个父作用域，也就是包含Lambda函数的语句块，说通俗点就是包含Lambda的“{}”代码块。上面的捕捉列表还可以进行组合，例如：</p><ul><li><p>[&#x3D;,&amp;a,&amp;b]表示以引用传递的方式捕捉变量a和b，以值传递方式捕捉其它所有变量;</p></li><li><p>[&amp;,a,this]表示以值传递的方式捕捉变量a和this，引用传递方式捕捉其它所有变量。<br>不过值得注意的是，捕捉列表不允许变量重复传递。下面一些例子就是典型的重复，会导致编译时期的错误。例如：</p></li><li><p>[&#x3D;,a]这里已经以值传递方式捕捉了所有变量，但是重复捕捉a了，会报错的;</p></li><li><p>[&amp;,&amp;this]这里&amp;已经以引用传递方式捕捉了所有变量，再捕捉this也是一种重复。</p></li></ul></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++">QObject::<span class="hljs-built_in">connect</span>(信号的发送者，发送的信号，槽函数所在的类，[捕获列表](信号里有的变量))<br><span class="hljs-built_in">connect</span>(ui-&gt;commit,&amp;QPushButton::clicked,<span class="hljs-keyword">this</span>,[=]&#123;<br><span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;This is lambda&quot;</span>;<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="小问题"><a href="#小问题" class="headerlink" title="小问题"></a>小问题</h3><blockquote><ol><li>使用lambda的时候, 用cennect三个参数的重载, 会被clazy警告, 要用四个参数的重载</li><li>写了lambda表达式之后，slots那里已经不需要写任何东西</li></ol></blockquote><h2 id="QT的正则表达"><a href="#QT的正则表达" class="headerlink" title="QT的正则表达"></a>QT的正则表达</h2><h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;QRegularExpression&gt;</span></span><br><br><span class="hljs-function">QRegularExpression <span class="hljs-title">regexp_int</span><span class="hljs-params">(<span class="hljs-string">&quot;^[0-9]+$&quot;</span>)</span></span>;   <span class="hljs-comment">// int</span><br><span class="hljs-function">QRegularExpression <span class="hljs-title">regexp_float</span><span class="hljs-params">(<span class="hljs-string">&quot;^[0-9]+\\.[0-9]+$&quot;</span>)</span></span>;   <span class="hljs-comment">// float匹配浮点数,要用两个\\转义.</span><br><br><span class="hljs-type">bool</span> valid = regexp_int.<span class="hljs-built_in">isValid</span>();<span class="hljs-comment">// 判断正则表达是否合法</span><br><br>QString pattern = regexp.<span class="hljs-built_in">pattern</span>();<span class="hljs-comment">// 返回正则表达式</span><br><span class="hljs-built_in">qDebug</span>() &lt;&lt; pattern;<br><br>QRegularExpressionMatch number = regexp_int.<span class="hljs-built_in">match</span>(<span class="hljs-string">&quot;abdc 12&quot;</span>);<span class="hljs-comment">// 匹配出符合的结果</span><br><br><span class="hljs-type">bool</span> hasMatch = number.<span class="hljs-built_in">hasMatch</span>(); <span class="hljs-comment">// 是否匹配成功</span><br><br><span class="hljs-built_in">qDebug</span>() &lt;&lt; hasMatch;<br><br><span class="hljs-keyword">if</span> (number.<span class="hljs-built_in">hasMatch</span>())&#123;<br>    QString numbers = number.<span class="hljs-built_in">captured</span>(<span class="hljs-number">0</span>);<span class="hljs-comment">// 获取正则匹配结果 </span><br>    <span class="hljs-comment">// 还有 captured(1) captured(2)</span><br>    <span class="hljs-built_in">qDebug</span>() &lt;&lt; numbers;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-built_in">qDebug</span>() &lt;&lt; <span class="hljs-string">&quot;hasnt enough match&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>后面需要用到再查手册</p>]]></content>
      
      
      <categories>
          
          <category> Qt </category>
          
      </categories>
      
      
        <tags>
            
            <tag> QT </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git快速入门</title>
      <link href="/Git/2023/03/06/%E5%85%B6%E5%AE%83/git%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
      <url>/Git/2023/03/06/%E5%85%B6%E5%AE%83/git%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<p>git 的基本操作</p><span id="more"></span><h1 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h1><h2 id="git和gitee、github的区别"><a href="#git和gitee、github的区别" class="headerlink" title="git和gitee、github的区别"></a>git和gitee、github的区别</h2><ul><li>git 是一种版本控制系统，是一个命令，是一种工具。</li><li>github，gitee 是一个基于git实现在线代码托管的仓库。</li></ul><h2 id="为什么要学git"><a href="#为什么要学git" class="headerlink" title="为什么要学git"></a>为什么要学git</h2><p>学习 Git 具有多方面的好处，特别是对于开发者、团队合作以及版本控制方面。以下是一些学习 Git 的理由：</p><ol><li><p><strong>版本控制：</strong> Git 是一个分布式版本控制系统，它可以追踪文件的变化，帮助你记录项目的不同版本。这使得团队能够轻松协作，同时保留每个版本的快照，便于回滚到任意时间点。</p></li><li><p><strong>团队协作：</strong> 在团队开发中，多个开发者可能同时对代码进行修改。Git 提供了有效的分支管理，允许每个开发者在独立的分支上进行工作，并在完成后将其合并到主分支，从而避免了冲突和混乱。</p></li><li><p><strong>备份和恢复：</strong> Git 提供了对代码库的备份和还原机制。你可以在远程仓库中备份代码，以防止意外数据丢失。如果出现问题，可以使用 Git 的历史记录来还原到之前的状态。</p></li><li><p><strong>分布式开发：</strong> Git 是一种分布式版本控制系统，每个开发者都可以在本地拥有完整的代码库。这使得开发者可以在没有网络连接的情况下工作，并在需要时与远程仓库同步。</p></li><li><p><strong>工作流管理：</strong> Git 提供了强大的工作流管理工具，例如分支、合并、标签等。这些工具可以帮助你更有效地管理项目的发展和维护。</p></li><li><p><strong>技术面试：</strong> 在许多技术面试中，对于使用 Git 进行版本控制的基本知识是一个重要的技能。学习 Git 可以提高你在职业生涯中的竞争力。</p></li></ol><h1 id="快速使用"><a href="#快速使用" class="headerlink" title="快速使用"></a>快速使用</h1><h2 id="连接github，gitee平台"><a href="#连接github，gitee平台" class="headerlink" title="连接github，gitee平台"></a>连接<a href="https://github.com/">github</a>，<a href="https://gitee.com/">gitee</a>平台</h2><ul><li>先添加公钥到gitee&#x2F;github上面</li><li>配置好自己本地的git config</li><li></li></ul><h3 id="生成公钥"><a href="#生成公钥" class="headerlink" title="生成公钥"></a>生成公钥</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ssh-keygen -t rsa -C &quot;youremail@example.com&quot;<br></code></pre></td></tr></table></figure><p>生成完之后，会显示文件路径，把 <em>id_rsa.pub</em> 的文件内容复制，添加到平台上即可</p><h3 id="添加到gitee-x2F-github"><a href="#添加到gitee-x2F-github" class="headerlink" title="添加到gitee&#x2F;github"></a>添加到gitee&#x2F;github</h3><p>gitee</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311291654639.png" alt="image-20231129165408551"></p><p>github</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311291656316.png" alt="image-20231129165643247"></p><h3 id="验证是否成功添加"><a href="#验证是否成功添加" class="headerlink" title="验证是否成功添加"></a>验证是否成功添加</h3><blockquote><p>成功的话，会显示  <em>You’ve successfully authenticated</em></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">gitee</span><br>ssh -T git@gitee.com<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">github</span><br>ssh -T git@github.com<br></code></pre></td></tr></table></figure><h2 id="图解git工作区"><a href="#图解git工作区" class="headerlink" title="图解git工作区"></a>图解git工作区</h2><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311301608363.png" alt="image-20231130160840316"></p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311301609484.png" alt="image-20231130160939436"></p><hr><h2 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h2><h3 id="一定要先配置用户信息"><a href="#一定要先配置用户信息" class="headerlink" title="一定要先配置用户信息 !!!"></a>一定要先配置用户信息 !!!</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">git config --global user.name &quot;ywm&quot;<br>git config --global user.email test@example.com<br></code></pre></td></tr></table></figure><h3 id="日常使用"><a href="#日常使用" class="headerlink" title="日常使用"></a>日常使用</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell">git init<br>git add .<br>git commit -m &quot;log&quot;<br>git branch -m master  #创建分支 -m 可以不用<br>git remote add origin git@...<br>git push -u origin master<br>git reset HEAD# 取消add<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">.gitignore修改之后，并没有生效</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">1. 在仓库上面的，不会忽略2. 更改了gitignore之后没有清除缓存</span><br>git rm -r --cached .<br>git add .<br>git commit -m &#x27;&#x27;# 不用这句也行，如果之前commit过了，用了好像也不执行<br>git push -u origin master<br></code></pre></td></tr></table></figure><h3 id="版本回退操作"><a href="#版本回退操作" class="headerlink" title="版本回退操作"></a>版本回退操作</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">版本回退</span><br>git log# 查看commit上去的id<br>git reset --hard commit_id# 本地仓库回退到此版本<br>git push -f -u origin master# 远程仓库回退到此版本<br></code></pre></td></tr></table></figure><h3 id="解决分支落后问题"><a href="#解决分支落后问题" class="headerlink" title="解决分支落后问题"></a>解决分支落后问题</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">暴力解决</span><br>git push -f origin master<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">从根本解决问题</span><br>git pull origin master<br><span class="hljs-meta prompt_"># </span><span class="language-bash">下面按照正常步骤就行</span><br>git add *<br>git commit -m &quot;&quot;<br>git push origin master<br></code></pre></td></tr></table></figure><h1 id="命令详解"><a href="#命令详解" class="headerlink" title="命令详解"></a>命令详解</h1><h2 id="基操"><a href="#基操" class="headerlink" title="基操"></a>基操</h2><blockquote><p>以下文件均用变量 FILE 表示</p></blockquote><h3 id="比较变动"><a href="#比较变动" class="headerlink" title="比较变动"></a>比较变动</h3><blockquote><p>查看相对于上一次暂存修改了什么</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git diff FILE<br></code></pre></td></tr></table></figure><h3 id="查看日志"><a href="#查看日志" class="headerlink" title="查看日志"></a>查看日志</h3><blockquote><p>输出信息太多, 在后面加上 –pretty&#x3D;online</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git log --pretty=online<br></code></pre></td></tr></table></figure><blockquote><p>查看所有的commit记录</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git log<br></code></pre></td></tr></table></figure><h3 id="查看时间线"><a href="#查看时间线" class="headerlink" title="查看时间线"></a>查看时间线</h3><blockquote><p>查看历史提交的时间线</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git lg<br></code></pre></td></tr></table></figure><h3 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h3><blockquote><p>在git 中, 当前版本表示HEAD, 上一个版本为HEAD^, 上上个版本为HEAD^^, 依此类推, 100个写成HEAD~100</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs SHELL">git reset --hard HEAD^<br></code></pre></td></tr></table></figure><h3 id="git重置"><a href="#git重置" class="headerlink" title="git重置"></a>git重置</h3><blockquote><p>相当于撤销命令</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">git reflog#查看用过的命令<br><span class="hljs-meta prompt_">#</span><span class="language-bash">找到想要撤回到的命令前面的<span class="hljs-built_in">id</span></span><br>git reflog --hard (e55063a)#这里填自己命令id<br></code></pre></td></tr></table></figure><h3 id="git-log-和-git-reflog"><a href="#git-log-和-git-reflog" class="headerlink" title="git log 和 git reflog"></a>git log 和 git reflog</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">git log # 查看commit过的信息<br>git reflog# 查看用过的命令<br>git reset --hard commit_id# 回到该版本<br>git reset --hard cmd_id# 回到用这条命令前的状态<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">本地reset之后，要push上去，远程仓库才能一起回退</span><br></code></pre></td></tr></table></figure><h3 id="取消暂存文件"><a href="#取消暂存文件" class="headerlink" title="取消暂存文件"></a>取消暂存文件</h3><blockquote><p>移除部分在暂存区的文件, 有些命令可以在 git status 中看到</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git reset HEAD FILE<br></code></pre></td></tr></table></figure><h3 id="恢复文件"><a href="#恢复文件" class="headerlink" title="恢复文件"></a>恢复文件</h3><blockquote><p>将文件恢复为上一次提交的样子</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git checkout -- FILE<br></code></pre></td></tr></table></figure><h3 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h3><blockquote><p>两种情况: 误删, 想要恢复。彻底删除</p></blockquote><p>误删( 前提是版本库里面存在 )</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git checkout -- FILE # 跟上面同理<br></code></pre></td></tr></table></figure><p>彻底删除</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">先在本地删除, 然后才删除版本库里面的</span><br>git rm FILE<br></code></pre></td></tr></table></figure><p>删除远程仓库文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">将远程仓库里面的项目文件拉下来，然后可通过<span class="hljs-built_in">dir</span>命令行查看有哪些文件夹</span><br>git pull origin master<br><span class="hljs-meta prompt_">#</span><span class="language-bash">删除文件(如“动画demo.md‘)或者文件夹</span><br>git rm --cached “文件”/git rm -r --cached &quot;文件夹’<br><span class="hljs-meta prompt_">#</span><span class="language-bash">将删除操作提交到git仓库</span><br>git commit -m “操作说明”<br><span class="hljs-meta prompt_">#</span><span class="language-bash">将本次修改更新到github远程仓库</span><br>git push -u origin master<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">这个删除对本地是没影响的,只是针对git本地库和远程库</span><br></code></pre></td></tr></table></figure><h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><blockquote><p>以下表示: 分支默认用dev</p></blockquote><h3 id="创建分支"><a href="#创建分支" class="headerlink" title="创建分支"></a>创建分支</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">git branch dev<br>git branch -a # 查看本地分支以及远程分支<br></code></pre></td></tr></table></figure><h3 id="切换分支"><a href="#切换分支" class="headerlink" title="切换分支"></a>切换分支</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">git checkout dev 已经过时了</span><br>git switch dev<br><span class="hljs-meta prompt_"># </span><span class="language-bash">创建和切换结合起来</span><br>git switch -c dev<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">将远程分支更新到本地（好像不能成功）</span><br>git remote update origin --prune<br><br></code></pre></td></tr></table></figure><h2 id="指定分支下载"><a href="#指定分支下载" class="headerlink" title="指定分支下载"></a>指定分支下载</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git clone -b branch_name git@git...<br></code></pre></td></tr></table></figure><h2 id="删除分支"><a href="#删除分支" class="headerlink" title="删除分支"></a>删除分支</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">git push origin --delete branch_name# 删除远程<br>git branch -d branch_name   # 删除本地<br></code></pre></td></tr></table></figure><h2 id="分支管理策略"><a href="#分支管理策略" class="headerlink" title="分支管理策略"></a>分支管理策略</h2><blockquote><ul><li><p>通常合并分支的时候, 会采用Fast forward 模式, 这种模式下, 删除分支后相关的信息也会删除</p></li><li><p>如果禁用了这种模式, merge的时候会生成新的commit信息, 在历史上就能查到分支信息</p></li></ul></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git merge --no-ff -m &quot;merge with no-ff&quot; dev # 这里加上了-m, 因为要产生新的commit信息<br></code></pre></td></tr></table></figure><h2 id="冲突解决"><a href="#冲突解决" class="headerlink" title="冲突解决"></a>冲突解决</h2><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202311301548510.png" alt="image-20231130154823473"></p><p>把其他东西删掉，留下想要的那部分就行。</p><h3 id="bug分支"><a href="#bug分支" class="headerlink" title="bug分支"></a>bug分支</h3><blockquote><p>工作到一半, 工作区还有东西, 同时还要改bug的情况</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">git stash# 把当前的工作区储存起来<br>git stash list # 查看储存的工作区<br>git stash apply (id) # 仅恢复工作区,当多个stash的时候,写id<br>git stash drop# 删除储存的工作区<br>git stash pop # 恢复的同时,删除储存的工作区<br></code></pre></td></tr></table></figure><ul><li>同一个bug, 在两个不同的分支, 改完bug, 可以复刻特定的提交到其它分支</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git cherry-pick (id) # id填commit bug时候的id<br></code></pre></td></tr></table></figure><h3 id="feature分支"><a href="#feature分支" class="headerlink" title="feature分支"></a>feature分支</h3><blockquote><p> to be continued…</p></blockquote><h3 id="查看仓库分支树形图"><a href="#查看仓库分支树形图" class="headerlink" title="查看仓库分支树形图"></a>查看仓库分支树形图</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git log --oneline --graph --decorate --all<br></code></pre></td></tr></table></figure><h1 id="加速访问"><a href="#加速访问" class="headerlink" title="加速访问"></a>加速访问</h1><ol><li>steam++</li><li>uu加速器</li><li>开飞机</li></ol><h1 id="图形化应用"><a href="#图形化应用" class="headerlink" title="图形化应用"></a>图形化应用</h1><p><a href="https://www.gitkraken.com/">gitkraken</a></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ol><li><p><a href="https://www.runoob.com/git/git-remote-repo.html">本地git连接远程仓库</a></p></li><li></li></ol>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu20.04安装ROS</title>
      <link href="/Linu/2023/02/27/Linux/Ubuntu20-04%E5%AE%89%E8%A3%85ROS/"/>
      <url>/Linu/2023/02/27/Linux/Ubuntu20-04%E5%AE%89%E8%A3%85ROS/</url>
      
        <content type="html"><![CDATA[<p>Ubuntu20.04安装ROS基本步骤，遇到的问题，小乌龟测试。ROS系统目前流行有两个版本：noetic和melodic。还有很多ROS发行版。</p><span id="more"></span><h2 id="安装ROS"><a href="#安装ROS" class="headerlink" title="安装ROS"></a>安装ROS</h2><h3 id="添加软件包路径"><a href="#添加软件包路径" class="headerlink" title="添加软件包路径"></a>添加软件包路径</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo sh -c &#x27;echo &quot;deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main&quot; &gt; /etc/apt/sources.list.d/ros-latest.list&#x27;<br></code></pre></td></tr></table></figure><h3 id="设置ROS版本密钥（哪里拿的还不知道）"><a href="#设置ROS版本密钥（哪里拿的还不知道）" class="headerlink" title="设置ROS版本密钥（哪里拿的还不知道）"></a>设置ROS版本密钥（哪里拿的还不知道）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install curl #安装curl工具<br>curl -s https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc | sudo apt-key add -C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654<br></code></pre></td></tr></table></figure><h3 id="安装、初始化环境变量"><a href="#安装、初始化环境变量" class="headerlink" title="安装、初始化环境变量"></a>安装、初始化环境变量</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt update#更新一下源<br>sudo apt install ros-noetic-desktop-full#安装ROS完全版<br>source /opt/ros/noetic/setup.bash<br>echo &quot;source /opt/ros/noetic/setup.bash&quot; &gt;&gt; ~/.bashrc<br>source ~/.bashrc#均为配置环境变量<br></code></pre></td></tr></table></figure><h3 id="安装各种依赖包"><a href="#安装各种依赖包" class="headerlink" title="安装各种依赖包"></a>安装各种依赖包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install python3-rosdep python3-rosinstall python3-rosinstall-generator python3-wstool build-essential#安装各种依赖包<br></code></pre></td></tr></table></figure><h3 id="管理各种工具的软件"><a href="#管理各种工具的软件" class="headerlink" title="管理各种工具的软件"></a>管理各种工具的软件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install python3-rosdep#安装管理工具<br></code></pre></td></tr></table></figure><h3 id="初始化rosdep（先别执行这里，先看下去）"><a href="#初始化rosdep（先别执行这里，先看下去）" class="headerlink" title="初始化rosdep（先别执行这里，先看下去）"></a>初始化rosdep（先别执行这里，先看下去）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo rosdep init<br>rosdep update<br></code></pre></td></tr></table></figure><h3 id="替换rosdep相关链接"><a href="#替换rosdep相关链接" class="headerlink" title="替换rosdep相关链接"></a>替换rosdep相关链接</h3><blockquote><p>因为某些链接,在国内被屏蔽了,所以不能初始化成功. 下面需要手动配置链接.</p></blockquote><p>手动克隆文件:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /opt/ros/noetic/#一定要切换到这个目录<br>git clone https://github.com/ros/rosdistro.git#克隆ros官方文件<br></code></pre></td></tr></table></figure><p>需要修改的文件有:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">/opt/ros/noetic/rosdistro/rosdep/sources.list.d/20-default.list#跟下面的不一样<br><br>/usr/lib/python3/dist-packages/rosdep2/gbpdistro_support.py<br><br>/usr/lib/python3/dist-packages/rosdep2/rep3.py<br><br>/usr/lib/python3/dist-packages/rosdistro/__init__.py<br><br>/etc/ros/rosdep/sources.list.d/20-default.list#别以为是一样的<br></code></pre></td></tr></table></figure><p>修改详情请看:<a href="!https://zhuanlan.zhihu.com/p/515361781">Ubuntu20.04.4安装ROS Noetic详细教程</a></p><h3 id="安装遇到的问题"><a href="#安装遇到的问题" class="headerlink" title="安装遇到的问题"></a>安装遇到的问题</h3><ol><li>rosdep初始化失败问题：国内屏蔽了下载链接</li><li>运行小乌龟键盘控制不了：鼠标要选中控制节点的那个窗口，而不是选中小乌龟的窗口</li></ol><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><strong>ROS-wiki</strong> <a href="http://wiki.ros.org/noetic/Installation/Ubuntu">noetic&#x2F;Installation&#x2F;Ubuntu - ROS Wiki</a></p><p><strong>zhihu</strong> <a href="!https://zhuanlan.zhihu.com/p/515361781">Ubuntu20.04.4安装ROS Noetic详细教程</a></p>]]></content>
      
      
      <categories>
          
          <category> Linu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
            <tag> ROS </tag>
            
            <tag> Gazebo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SD模块以及FATFS文件系统</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/02/20/%E5%8D%95%E7%89%87%E6%9C%BA/SD%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8AFATFS%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/02/20/%E5%8D%95%E7%89%87%E6%9C%BA/SD%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8AFATFS%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<p>23科创杯模块, 使用SD卡读写, SPI通讯协议</p><span id="more"></span><hr><h2 id="某些资料"><a href="#某些资料" class="headerlink" title="某些资料"></a>某些资料</h2><blockquote><p>CMD0 使SD卡进入空闲模式</p><p>​正确情况：返回1，但是返回了0</p><p>CMD8 查看SD卡版本，1 为2.0</p><p>CMD55 </p><p>CMD41</p><p>CMD58</p></blockquote><ul><li><p>将初始化函数放进disk文件中，挂载出来是13，</p></li><li><p>外面初始化，里面初始化，挂在出来是13</p></li><li><p>外面初始化，里面不初始化，挂出来是3</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 单片机 </tag>
            
            <tag> STM32 </tag>
            
            <tag> 模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电机驱动</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/31/%E5%8D%95%E7%89%87%E6%9C%BA/%E7%94%B5%E6%9C%BA%E9%A9%B1%E5%8A%A8/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/31/%E5%8D%95%E7%89%87%E6%9C%BA/%E7%94%B5%E6%9C%BA%E9%A9%B1%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<p>电机驱动原理、TB6612接线、PID</p><span id="more"></span><h2 id="发现"><a href="#发现" class="headerlink" title="发现"></a>发现</h2><p>电机的正转比反转转速更快</p><p>正转满速：4900&#x2F;0.5s</p><p>反转满速：-5200&#x2F;0.5s</p><h2 id="遇到问题"><a href="#遇到问题" class="headerlink" title="遇到问题"></a>遇到问题</h2><ul><li><p>创建了野指针，导致程序无法正常运行</p></li><li><p>使用scanf</p><ul><li>用了scanf，不需要再使用中断接收，中断回调这些函数了，记得子啊cube开启串口中断就行了，直接调用scanf就行了</li><li>还有这里的scanf和C里面的不一样，在格式输入里没有字符</li><li>即使是写成scanf(“kp&#x3D;%d”),scanf(“%d,%d”)，这种形式都不行</li><li>不过scanf(“%d%d%d”)，输入的时候可以写1，1，1 。中间可以加逗号</li></ul></li><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 单片机 </tag>
            
            <tag> 模块 </tag>
            
            <tag> 电机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>蓝牙小车之改bug</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/09/%E5%8D%95%E7%89%87%E6%9C%BA/%E8%93%9D%E7%89%99%E5%B0%8F%E8%BD%A6%E4%B9%8B%E6%94%B9bug/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/09/%E5%8D%95%E7%89%87%E6%9C%BA/%E8%93%9D%E7%89%99%E5%B0%8F%E8%BD%A6%E4%B9%8B%E6%94%B9bug/</url>
      
        <content type="html"><![CDATA[<p>经典写代码半小时，改bug两小时</p><span id="more"></span><h2 id="串口接收中断"><a href="#串口接收中断" class="headerlink" title="串口接收中断"></a>串口接收中断</h2><blockquote><p>在cube配置UART的时候,忘记在中断接收那里✔了…</p></blockquote><h2 id="串口接收数据过程"><a href="#串口接收数据过程" class="headerlink" title="串口接收数据过程"></a>串口接收数据过程</h2><blockquote><p>发送数据时,是整体打包发送.(在中断回调函数中)在接收的时候,是一位一位读取的,在检测到后面两个截止位的时候,就会停止接收,进入下一个任务.</p><p>如果在检测到截止位就立即清空数据包, 那么在外面的大循环中就无法判断到接收到的数据包, 应该在执行完判断任务后再清空.</p></blockquote><h2 id="串口接收到的数据包"><a href="#串口接收到的数据包" class="headerlink" title="串口接收到的数据包"></a>串口接收到的数据包</h2><blockquote><p>通过普通的usb转串口模块,接收到的数据包有两个截止位(0X0D,0X0A)</p><p>但是用蓝牙通信发送的,只是软件上配置的数据,没有加截止位</p></blockquote><h2 id="printf的重定向"><a href="#printf的重定向" class="headerlink" title="printf的重定向"></a>printf的重定向</h2><p>在usart.c源文件中(针对于 cube),添加下面的代码</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-keyword">extern</span> UART_HandleTypeDef huart1;<br><span class="hljs-comment">//只重定向到了UART1</span><br><span class="hljs-comment">//重定向printf函数到串口</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fputc</span><span class="hljs-params">(<span class="hljs-type">int</span> ch,FILE* f)</span>&#123;<br>  HAL_UART_Transmit(&amp;huart1,(<span class="hljs-type">uint8_t</span>* )&amp;ch,<span class="hljs-number">1</span>,<span class="hljs-number">1000</span>);<span class="hljs-comment">//注意这里的int类型的ch,要强制转换一下类型</span><br>  <span class="hljs-keyword">return</span> ch;<br>&#125;<br><br><span class="hljs-comment">//重定向scanf函数到串口</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fgetc</span><span class="hljs-params">(FILE* F)</span>&#123;<br>  <span class="hljs-type">uint8_t</span> ch_r = <span class="hljs-number">0</span>;<br>  HAL_UART_Receive(&amp;huart1,&amp;ch_r,<span class="hljs-number">1</span>,<span class="hljs-number">0xffff</span>);<br>  <span class="hljs-keyword">return</span> ch_r;<br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>重定向原理: printf默认输出设备是显示器终端,如果要显示到串口或者lcd之类上,就要重定向.</p><p><strong>注意</strong> : 还要在keil上勾选use microlib</p><p><img src="http://github.xutongxin.me/https://raw.githubusercontent.com/xutongxin1/PictureBed/master/img4/202307271446197.png" alt="image-20230727144627086"></p></blockquote><h2 id="sizeof的计算"><a href="#sizeof的计算" class="headerlink" title="sizeof的计算"></a>sizeof的计算</h2><blockquote><p>sizeof计算的是定义到的数组长度,也就是定义了多少,计算出来就是多少  .</p><p>还有一个计算是实际的长度,忘记是什么函数了</p><ul><li>如果里面传的是指针的话，这就是另一种情况了</li></ul></blockquote><h2 id="STM32cube配置出现中文乱码（错误的）"><a href="#STM32cube配置出现中文乱码（错误的）" class="headerlink" title="STM32cube配置出现中文乱码（错误的）"></a>STM32cube配置出现中文乱码（错误的）</h2><p>在Windows的环境变量中加入这个, 这种方法目前还没测试过.</p><blockquote><ul><li>变量名称：JAVA_TOOL_OPTIONS</li><li>变量值：-Dfile.encoding &#x3D; UTF-8</li></ul></blockquote><h2 id="PID-的那些事"><a href="#PID-的那些事" class="headerlink" title="PID 的那些事"></a>PID 的那些事</h2><h3 id="Question："><a href="#Question：" class="headerlink" title="Question："></a>Question：</h3><ul><li>如果在空转的时候，调好的pid，落地后，会不会影响结果？</li><li></li></ul><h2 id="模块化编程问题"><a href="#模块化编程问题" class="headerlink" title="模块化编程问题"></a>模块化编程问题</h2><p>函数调用之间的问题，传参问题，数据处理之后的操作</p>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 单片机 </tag>
            
            <tag> STM32 </tag>
            
            <tag> HAL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HAL之UART</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/07/%E5%8D%95%E7%89%87%E6%9C%BA/HAL%E4%B9%8BUART/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/07/%E5%8D%95%E7%89%87%E6%9C%BA/HAL%E4%B9%8BUART/</url>
      
        <content type="html"><![CDATA[<p>UART常用函数，HAL库的串口中断流程</p><span id="more"></span><hr><p>HAL_UART_Transmit(); 串口发送数据，使用超时管理机制<br>HAL_UART_Transmit_IT();    串口中断模式发送<br>HAL_UART_Transmit_DMA();       串口DMA模式发送</p><p>HAL_UART_Receive_IT();     串口中断模式接收<br>HAL_UART_Receive();  串口接收数据，使用超时管理机制<br>HAL_UART_Transmit_DMA();   串口DMA模式接收</p><h3 id="串口中断流程"><a href="#串口中断流程" class="headerlink" title="串口中断流程"></a>串口中断流程</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">HAL_UART_Receive_IT//中断接收函数<br>USART2_IRQHandler(void)//中断服务函数<br>HAL_UART_IRQHandler(*huart)//中断处理函数<br>UART_Receive_IT(*huart)//接收函数<br>HAL_UART_RxCpltCallback(huart)//中断回调函数(要自己修改)<br></code></pre></td></tr></table></figure><pre><code class=" mermaid">graph TBA(中断接收函数)--&gt;B(中断服务函数)--&gt;C(中断处理函数)--&gt;D(接收函数)--&gt;E(中断回调函数)--&gt;A(中断接收函数)</code></pre>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 单片机 </tag>
            
            <tag> STM32 </tag>
            
            <tag> HAL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HAL之GPIO</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/07/%E5%8D%95%E7%89%87%E6%9C%BA/HAL%E4%B9%8BGPIO/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/07/%E5%8D%95%E7%89%87%E6%9C%BA/HAL%E4%B9%8BGPIO/</url>
      
        <content type="html"><![CDATA[<p>常用的GPIO函数以及工作模式</p><span id="more"></span><hr><h2 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h2><h4 id="输入函数"><a href="#输入函数" class="headerlink" title="输入函数"></a>输入函数</h4><blockquote><p>HAL_GPIO_ReadPin()&#x2F;&#x2F;读取引脚电平</p></blockquote><h4 id="输出函数"><a href="#输出函数" class="headerlink" title="输出函数"></a>输出函数</h4><blockquote><p>HAL_GPIO_WritePin()&#x2F;&#x2F;写入高低电平</p><p>HAL_GPIO_TogglePin()&#x2F;&#x2F;反转电平</p></blockquote><h4 id="中断函数"><a href="#中断函数" class="headerlink" title="中断函数"></a>中断函数</h4><blockquote><p>HAL_GPIO_EXTI_IRQHandler()&#x2F;&#x2F;外部中断服务函数</p><p>HAL_GPIO_EXTI_Callback()&#x2F;&#x2F;外部中断回调函数</p></blockquote><h2 id="工作模式"><a href="#工作模式" class="headerlink" title="工作模式"></a>工作模式</h2><h3 id="输入模式GPIO-Input"><a href="#输入模式GPIO-Input" class="headerlink" title="输入模式GPIO_Input"></a>输入模式GPIO_Input</h3><p>浮空输入</p><blockquote><p>引脚电平是真实的外部连接器件电压，电平有不确定性</p></blockquote><p>上拉输入</p><blockquote><p>默认通过电阻上拉到VCC,不接外部器件时可以读出高电平</p></blockquote><p>下拉输入</p><blockquote><p>默认通过电阻下拉到GND,不接外部器件时可以读出低电平</p></blockquote><h3 id="输出模式"><a href="#输出模式" class="headerlink" title="输出模式"></a>输出模式</h3><p>推挽(push pull)</p><blockquote><p>一种使用一对选择性地从相连负载灌电流或者拉电流的器件的电路。</p></blockquote><p>开漏(open drain)</p><blockquote><p>高电平时没有驱动能力，需要借助外部上拉电阻完成对外驱动。</p></blockquote><p>浮空(no-pull-)</p><blockquote><p>引脚电平是真实的外部连接器件电压，电平有不确定性</p></blockquote><p>上拉</p><blockquote><p>默认通过电阻上拉到VCC,不接外部器件时可以输出高电平</p></blockquote><p>下拉</p><blockquote><p>默认通过电阻下拉到GND,不接外部器件时可以输出低电平 </p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 单片机 </tag>
            
            <tag> STM32 </tag>
            
            <tag> HAL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>蓝牙模块HC-05</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/07/%E5%8D%95%E7%89%87%E6%9C%BA/%E8%93%9D%E7%89%99%E6%A8%A1%E5%9D%97HC-05/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/07/%E5%8D%95%E7%89%87%E6%9C%BA/%E8%93%9D%E7%89%99%E6%A8%A1%E5%9D%97HC-05/</url>
      
        <content type="html"><![CDATA[<p>HC-05蓝牙模块基本原理及使用方法</p><span id="more"></span><hr><h3 id="波特率"><a href="#波特率" class="headerlink" title="波特率"></a>波特率</h3><ol><li>AT测试的波特率默认为38400,1停止位,8数据位</li><li>蓝牙通信波特率默认为9600,0,0</li></ol><h3 id="AT测试"><a href="#AT测试" class="headerlink" title="AT测试"></a>AT测试</h3><blockquote><p>接线: </p><ul><li><p>GND-&gt;GND</p></li><li><p>RXD-&gt;TXD</p></li><li><p>TXD-&gt;RXD</p></li><li><p>VCC-&gt;5V</p></li><li><p>EN和STATE不接</p></li><li><p><strong>注意: 模块上的VCC不能接3.3V</strong>, 资料说不可以，但是我接VCC和3V3都没问题。</p><p>按住模块上的按键再去供电, 进入慢闪(一秒一次)模式，即为AT测试</p></li></ul></blockquote><h3 id="AT测试命令"><a href="#AT测试命令" class="headerlink" title="AT测试命令"></a>AT测试命令</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-number">1.</span> 先输入AT，当返回OK时，代表进入AT测试<br>AT+VERSION<span class="hljs-comment">//当前版本</span><br>AT+ORGL<span class="hljs-comment">//恢复出厂设置</span><br>AT+RESET<span class="hljs-comment">//复位</span><br>AT+NAME<span class="hljs-comment">//蓝牙名字</span><br>AT+PSWD<span class="hljs-comment">//连接密码</span><br>AT+ROLE<span class="hljs-comment">//模式选择</span><br>    <span class="hljs-number">1</span>：从机<br>    <span class="hljs-number">2</span>：主机<br>    <span class="hljs-number">3</span>：回环<br>AT+UART<span class="hljs-comment">//波特率</span><br>AT+ADDR<span class="hljs-comment">//蓝牙地址码</span><br>AT+STATE<span class="hljs-comment">//当前工作状态</span><br>AT+DISC<span class="hljs-comment">//断开连接</span><br>AT+RNAME<span class="hljs-comment">//获取远程蓝牙设备名称</span><br>AT+ADCN<span class="hljs-comment">//获取蓝牙配对表中设备个数</span><br>......<br><br></code></pre></td></tr></table></figure><h3 id="蓝牙连接"><a href="#蓝牙连接" class="headerlink" title="蓝牙连接"></a>蓝牙连接</h3><p>AT测试，查询完相应数据后，拔掉电源。这次不用按按键，直接插电。模块的灯快闪，进入等待连接状态。</p><blockquote><p>手机打开<a href="https://pan.baidu.com/s/165RPnBSNWQYb76hcuZfKIg?pwd=6666">蓝牙调试器</a> , <a href="https://www.jianshu.com/p/1a8262492619">蓝牙调试器介绍</a></p><p>找到设备, 默认的连接密码为1234.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 单片机 </tag>
            
            <tag> 模块 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>L298N驱动</title>
      <link href="/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/06/%E5%8D%95%E7%89%87%E6%9C%BA/L298N%E9%A9%B1%E5%8A%A8/"/>
      <url>/%E5%8D%95%E7%89%87%E6%9C%BA/2023/01/06/%E5%8D%95%E7%89%87%E6%9C%BA/L298N%E9%A9%B1%E5%8A%A8/</url>
      
        <content type="html"><![CDATA[<p>L298N原理图及驱动方式</p><span id="more"></span><hr><center><h1 style="color:yellow">    L298N    </h1></center><h3 id="原理图"><a href="#原理图" class="headerlink" title="原理图"></a>原理图</h3><div align = "center"><img src="https://pic2.zhimg.com/80/v2-625094b40f2c5230af1b70f5e3c6ba35_1440w.webp"><hr><img src="https://pic4.zhimg.com/80/v2-8fb3efbd0d82669a496a179a46655e47_1440w.webp"><hr><img src="https://pic2.zhimg.com/80/v2-8ed7420890b8dc5b3dd5f0b5c02a7b11_1440w.webp"></div><h3 id="接线方式"><a href="#接线方式" class="headerlink" title="接线方式"></a>接线方式</h3><blockquote><ul><li><p>工作电压: 9~12v</p></li><li><p>将电池盒或者锂电池的<strong>正极</strong>接到上图的<strong>vcc</strong></p></li><li><p>如果安装了5v跳线帽, 5v接口是用来给单片机供电的, 这种情况下, 供电电源的GND要分两条, 模块和单片机共地</p><blockquote><p>如果用5V来给单片机供电的话, 可能会出问题, 因为没有稳压, 可能会有掉压的情况.</p></blockquote></li><li><p>电机分别接上图8, 9 引脚7</p></li></ul></blockquote><h3 id="驱动方式"><a href="#驱动方式" class="headerlink" title="驱动方式"></a>驱动方式</h3><table><thead><tr><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody><tr><td align="center">电机</td><td align="center">旋转方式</td><td align="center">IN1</td><td align="center">IN2</td><td align="center">IN3</td><td align="center">IN4</td></tr><tr><td align="center">M1</td><td align="center">正转</td><td align="center">高</td><td align="center">低</td><td align="center">&#x2F;</td><td align="center">&#x2F;</td></tr><tr><td align="center">(左)</td><td align="center">反转</td><td align="center">低</td><td align="center">高</td><td align="center">&#x2F;</td><td align="center">&#x2F;</td></tr><tr><td align="center"></td><td align="center">停止</td><td align="center">低</td><td align="center">低</td><td align="center">&#x2F;</td><td align="center">&#x2F;</td></tr><tr><td align="center">M2</td><td align="center">正转</td><td align="center">&#x2F;</td><td align="center">&#x2F;</td><td align="center">高</td><td align="center">低</td></tr><tr><td align="center">(右)</td><td align="center">反转</td><td align="center">&#x2F;</td><td align="center">&#x2F;</td><td align="center">低</td><td align="center">高</td></tr><tr><td align="center"></td><td align="center">停止</td><td align="center">&#x2F;</td><td align="center">&#x2F;</td><td align="center">低</td><td align="center">低</td></tr></tbody></table><blockquote><p>如果要用PWM调速的话, 要拔掉<strong>ENA</strong>和<strong>ENB</strong>的跳线帽, 将PWM输出到这两个引脚来实现PWM调速.</p><p>IN口控制正反转, EN口用来调速</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 单片机 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 单片机 </tag>
            
            <tag> 模块 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
